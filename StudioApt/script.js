if(!Object['hasOwnProperty']('values')){Object['values']=function(c){return Object['keys'](c)['map'](function(d){return c[d];});};}if(!String['prototype']['startsWith']){String['prototype']['startsWith']=function(e,f){f=f||0x0;return this['indexOf'](e,f)===f;};}TDV['EventDispatcher']=function(){this['_handlers']={};};TDV['EventDispatcher']['prototype']['bind']=function(g,h){if(!(g in this['_handlers']))this['_handlers'][g]=[];this['_handlers'][g]['push'](h);};TDV['EventDispatcher']['prototype']['unbind']=function(i,j){if(i in this['_handlers']){var k=this['_handlers'][i]['indexOf'](j);if(k!=-0x1)this['_handlers'][i]['splice'](k,0x1);}};TDV['EventDispatcher']['prototype']['createNewEvent']=function(l){if(typeof Event==='function')return new Event(l);var m=document['createEvent']('Event');m['initEvent'](l,!![],!![]);return m;};TDV['EventDispatcher']['prototype']['dispatchEvent']=function(n){if(n['type']in this['_handlers']){var o=this['_handlers'][n['type']];for(var p=0x0;p<o['length'];++p){o[p]['call'](window,n);if(n['defaultPrevented'])break;}}};TDV['Tour']=function(q,r){TDV['EventDispatcher']['call'](this);this['player']=undefined;this['_settings']=q;this['_devicesUrl']=r;this['_playersPlayingTmp']=[];this['_isInitialized']=![];this['_isPaused']=![];this['_isRemoteSession']=![];this['_orientation']=undefined;this['_lockedOrientation']=undefined;this['_device']=undefined;Object['defineProperty'](this,'isInitialized',{'get':function(){return this['_isInitialized'];}});Object['defineProperty'](this,'isPaused',{'get':function(){return this['_isPaused'];}});this['_setupRemote']();};TDV['Tour']['DEVICE_GENERAL']='general';TDV['Tour']['DEVICE_MOBILE']='mobile';TDV['Tour']['DEVICE_IPAD']='ipad';TDV['Tour']['DEVICE_VR']='vr';TDV['Tour']['EVENT_TOUR_INITIALIZED']='tourInitialized';TDV['Tour']['EVENT_TOUR_LOADED']='tourLoaded';TDV['Tour']['EVENT_TOUR_ENDED']='tourEnded';TDV['Tour']['prototype']=new TDV['EventDispatcher']();TDV['Tour']['prototype']['dispose']=function(){if(!this['player'])return;if(this['_onHashChange']){window['removeEventListener']('hashchange',this['_onHashChange']);this['_onHashChange']=undefined;}if(this['_onKeyUp']){document['removeEventListener']('keyup',this['_onKeyUp']);this['_onKeyUp']=undefined;}if(this['_onBeforeUnload']){window['removeEventListener']('beforeunload',this['_onBeforeUnload']);this['_onBeforeUnload']=undefined;}var s=this['_getRootPlayer']();if(s!==undefined){s['stopTextToSpeech']();s['stopGlobalAudios']();}this['player']['delete']();this['player']=undefined;this['_isInitialized']=![];window['currentGlobalAudios']=undefined;window['pauseGlobalAudiosState']=undefined;window['currentPanoramasWithCameraChanged']=undefined;window['overlaysDispatched']=undefined;};TDV['Tour']['prototype']['load']=function(){if(this['player'])return;var t=function(w){if(w['name']=='begin'){var A=w['data']['source']['get']('camera');if(A&&A['get']('initialSequence')&&A['get']('initialSequence')['get']('movements')['length']>0x0)return;}if(w['sourceClassName']=='MediaAudio'||w['sourceClassName']=='Model3DCameraSequence'||this['_isInitialized'])return;this['_isInitialized']=!![];u['unbind']('preloadMediaShow',t,this,!![]);u['unbindOnObjectsOf']('PlayListItem','begin',t,this,!![]);u['unbind']('stateChange',t,this,!![]);if(this['_isPaused'])this['pause']();window['parent']['postMessage'](TDV['Tour']['EVENT_TOUR_LOADED'],'*');this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['EVENT_TOUR_LOADED']));};this['_setup']();this['_settings']['set'](TDV['PlayerSettings']['SCRIPT_URL'],this['_currentScriptUrl']);var u=this['player']=TDV['PlayerAPI']['create'](this['_settings']);u['bindOnObject']('rootPlayer','start',v,this,!![]);window['addEventListener']('message',function(B){var C=B['data'];if(C=='pauseTour')C='pause';else if(C=='resumeTour')C='resume';else return;this[C]['apply'](this);}['bind'](this));function v(D){u['unbindOnObject']('rootPlayer','start',v,this,!![]);var E=D['data']['source'];E['get']('data')['tour']=this;var F=window['navigator']['language']||window['navigator']['userLanguage']||'en';var G=E['get']('data')['locales']||{};var H=E['get']('data')['defaultLocale']||F;var I=this['locManager']=new TDV['Tour']['LocaleManager'](E,G,H,this['_settings']['get'](TDV['PlayerSettings']['QUERY_STRING_PARAMETERS']));E['get']('data')['localeManager']=I;var J=function(){var U=E['get']('data');if(!('updateText'in U)){U['updateText']=function(Y){var Z=Y[0x0]['split']('.');if(Z['length']==0x2){var a0=I['trans']['apply'](I,Y);var a1=Y[0x1]||E;if(typeof a1=='string'){var a2=a1['split']('.');a1=E[a2['shift']()];for(var a3=0x0;a3<a2['length']-0x1;++a3){if(a1!=undefined)a1='get'in a1?a1['get'](a2[a3]):a1[a2[a3]];}if(a1!=undefined){var a4=a2[a2['length']-0x1];if(Array['isArray'](a1)){for(var a5=0x0;a5<a1['length'];++a5){this['setValue'](a1[a5],a4,a0);}}else this['setValue'](a1,a4,a0);}}else{a1=a1[Z[0x0]];this['setValue'](a1,Z[0x1],a0);}}}['bind'](E);}var V=U['translateObjs'];var W=U['updateText'];var X=function(){for(var a6 in V){W(V[a6]);}};X();X();};this['locManager']['bind'](TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED'],J['bind'](this));var K=this['_getParams'](location['search']['substr'](0x1));K=E['mixObject'](K,this['_getParams'](location['hash']['substr'](0x1)));var L=K['language'];if(!L||!this['locManager']['hasLocale'](K['language'])){if(E['get']('data')['forceDefaultLocale'])L=H;else L=F;}this['setLocale'](L);var M=E['getByClassName']('HotspotPanoramaOverlay');for(var O=0x0,P=M['length'];O<P;++O){var Q=M[O];var R=Q['get']('data');if(!R)Q['set']('data',R={});R['defaultEnabledValue']=Q['get']('enabled');}this['_setMediaFromURL'](K,0x0);this['_updateParams'](K,![]);if(this['isMobile']()&&typeof this['_devicesUrl'][this['_device']]=='object'){var S=function(){if(!E['isCardboardViewMode']()&&this['_getOrientation']()!=this['_orientation']){this['reload'](!![]);return!![];}return![];};if(S['call'](this))return;var T=E['getByClassName']('PanoramaPlayer');for(var O=0x0;O<T['length'];++O){T[O]['bind']('viewModeChange',S,this);}E['bind']('orientationChange',S,this);}this['_onHashChange']=function(){var a7=this['_getParams'](location['hash']['substr'](0x1));this['_setMediaFromURL'](a7);this['_updateParams'](a7,!![]);}['bind'](this);this['_onKeyUp']=function(a8){switch(a8['key']['toLowerCase']()){case'u':this['updateDeepLink']();E['copyToClipboard'](location['href']);break;case'm':var a9=E['getByClassName']('MeasureModel3DObject');var aa=E['getActiveMediaWithViewer'](E['getMainViewer']());if(a9['length']>0x0&&aa['get']('class')=='Model3D'){E['startMeasurement'](null,a9[0x0]);}break;}}['bind'](this);this['_onBeforeUnload']=function(ab){E['stopTextToSpeech']();};window['addEventListener']('hashchange',this['_onHashChange']);window['addEventListener']('beforeunload',this['_onBeforeUnload']);document['addEventListener']('keyup',this['_onKeyUp']);E['bind']('tourEnded',function(){this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['EVENT_TOUR_ENDED']));},this,!![]);E['bind']('mute_changed',function(){if(this['get']('mute'))this['stopTextToSpeech']();},E,!![]);u['bind']('preloadMediaShow',t,this,!![]);u['bind']('stateChange',t,this,!![]);u['bindOnObjectsOf']('PlayListItem','begin',t,this,!![]);this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['EVENT_TOUR_INITIALIZED']));}};TDV['Tour']['prototype']['pause']=function(){this['_isPaused']=!![];if(!this['_isInitialized'])return;var ac=function(al){var am=al['source'];if(!this['_isPaused'])am['unbind']('stateChange',ac,this);else if(am['get']('state')=='playing'){am['pause']();}};var ad=this['player']['getByClassName']('PlayList');for(var ae=0x0,af=ad['length'];ae<af;ae++){var ag=ad[ae];var ah=ag['get']('selectedIndex');if(ah!=-0x1){var ai=ag['get']('items')[ah];var aj=ai['get']('player');if(aj&&aj['pause']){if(aj['get']('state')!='playing')aj['bind']('stateChange',ac,this);else aj['pause']();this['_playersPlayingTmp']['push'](aj);}}}var ak=this['_getRootPlayer']();ak['pauseGlobalAudios']();ak['quizPauseTimer']();};TDV['Tour']['prototype']['resume']=function(){this['_isPaused']=![];if(!this['_isInitialized'])return;while(this['_playersPlayingTmp']['length']){var an=this['_playersPlayingTmp']['pop']();an['play']();}var ao=this['_getRootPlayer']();ao['resumeGlobalAudios']();ao['quizResumeTimer']();};TDV['Tour']['prototype']['reload']=function(ap){this['_orientation']=this['_getOrientation']();if(ap)this['updateDeepLink']();this['dispose']();this['load']();};TDV['Tour']['prototype']['setMediaByIndex']=function(aq){var ar=this['_getRootPlayer']();if(ar!==undefined){return ar['setMainMediaByIndex'](aq);}};TDV['Tour']['prototype']['setMediaByName']=function(as){var at=this['_getRootPlayer']();if(at!==undefined){return at['setMainMediaByName'](as);}};TDV['Tour']['prototype']['triggerOverlayByName']=function(au,av,aw){var ax=this['_getRootPlayer']();if(!aw)aw='click';if(ax!==undefined&&aw){var ay=ax['getPanoramaOverlayByName'](au,av);if(ay){ax['triggerOverlay'](ay,aw);}}};TDV['Tour']['prototype']['focusOverlayByName']=function(az,aA){var aB=this['_getRootPlayer']();if(aB!==undefined){var aC=aB['getPanoramaOverlayByName'](az['get']('media'),aA);if(aC){var aD=aC['get']('class');var aE=aD=='VideoPanoramaOverlay'||aD=='QuadVideoPanoramaOverlay'?aC:aC['get']('items')[0x0];var aF,aG;aD=aE['get']('class');if(aD=='QuadVideoPanoramaOverlay'||aD=='QuadHotspotPanoramaOverlayImage'){var aH=aE['get']('vertices');var aI=0x0,aJ=aH['length'];aF=0x0;aG=0x0;while(aI<aJ){var aK=aH[aI++];var aL=aK['get']('yaw');if(aL<0x0)aL+=0x168;aF+=aL;aG+=aK['get']('pitch');}aF/=0x4;aG/=0x4;if(aF>0xb4)aF-=0x168;}else{aF=aE['get']('yaw');aG=aE['get']('pitch');}var aM=aB['getPlayListWithItem'](az);if(aM){var aN=function(){aB['setPanoramaCameraWithSpot'](aM,az,aF,aG);};if(!this['_isInitialized']){var aO=function(){az['unbind']('begin',aO,this);aN();};az['bind']('begin',aO,this);}else{aN();}}}}};TDV['Tour']['prototype']['setComponentsVisibilityByTags']=function(aP,aQ,aR){var aS=this['_getRootPlayer']();if(aS!==undefined){var aT=aS['getComponentsByTags'](aP,aR);for(var aU=0x0,aV=aT['length'];aU<aV;++aU){aT[aU]['set']('visible',aQ);}}};TDV['Tour']['prototype']['setOverlaysVisibilityByTags']=function(aW,aX,aY){var aZ=this['_getRootPlayer']();if(aZ!==undefined){var b0=aZ['getOverlaysByTags'](aW,aY);aZ['setOverlaysVisibility'](b0,aX);}};TDV['Tour']['prototype']['setOverlaysVisibilityByName']=function(b1,b2){var b3=this['_getRootPlayer']();if(b3!==undefined){var b4=b3['getActiveMediaWithViewer'](b3['getMainViewer']());var b5=[];for(var b6=0x0,b7=b1['length'];b6<b7;++b6){var b8=b3['getPanoramaOverlayByName'](b4,b1[b6]);if(b8)b5['push'](b8);}b3['setOverlaysVisibility'](b5,b2);}};TDV['Tour']['prototype']['setObjectsVisibilityByID']=function(b9,ba){var bb=this['_getRootPlayer']();if(bb!==undefined){var bc=bb['getActiveMediaWithViewer'](bb['getMainViewer']());if(bc['get']('class')=='Model3D'){bb['setObjectsVisibilityByID'](bc,b9,ba);}}};TDV['Tour']['prototype']['setModel3DVariant']=function(bd){var be=this['_getRootPlayer']();if(be!==undefined){var bf=be['getActiveMediaWithViewer'](be['getMainViewer']());if(bf['get']('class')=='Model3D'){bf['set']('variant',bd);}}};TDV['Tour']['prototype']['updateDeepLink']=function(){var bg=this['_getRootPlayer']();if(bg!==undefined){bg['updateDeepLink']({'includeCurrentView':!![],'includeCurrentVisibleHotspots':!![],'includeCurrentMeasureModel3DObjects':!![],'setHash':!![]});}};TDV['Tour']['prototype']['setLocale']=function(bh){var bi=this['_getRootPlayer']();if(bi!==undefined&&this['locManager']!==undefined){this['locManager']['setLocale'](bh);}};TDV['Tour']['prototype']['getLocale']=function(){var bj=this['_getRootPlayer']();return bj!==undefined&&this['locManager']!==undefined?this['locManager']['currentLocaleID']:undefined;};TDV['Tour']['prototype']['isMobile']=function(){return TDV['PlayerAPI']['mobile'];};TDV['Tour']['prototype']['isIPhone']=function(){return TDV['PlayerAPI']['device']==TDV['PlayerAPI']['DEVICE_IPHONE'];};TDV['Tour']['prototype']['isIPad']=function(){return TDV['PlayerAPI']['device']==TDV['PlayerAPI']['DEVICE_IPAD'];};TDV['Tour']['prototype']['isIOS']=function(){return this['isIPad']()||this['isIPhone']();};TDV['Tour']['prototype']['isMobileApp']=function(){return navigator['userAgent']['indexOf']('App/TDV')!=-0x1;};TDV['Tour']['prototype']['getNotchValue']=function(){var bk=document['documentElement'];bk['style']['setProperty']('--notch-top','env(safe-area-inset-top)');bk['style']['setProperty']('--notch-right','env(safe-area-inset-right)');bk['style']['setProperty']('--notch-bottom','env(safe-area-inset-bottom)');bk['style']['setProperty']('--notch-left','env(safe-area-inset-left)');var bl=window['getComputedStyle'](bk);return parseInt(bl['getPropertyValue']('--notch-top')||'0',0xa)||parseInt(bl['getPropertyValue']('--notch-right')||'0',0xa)||parseInt(bl['getPropertyValue']('--notch-bottom')||'0',0xa)||parseInt(bl['getPropertyValue']('--notch-left')||'0',0xa);};TDV['Tour']['prototype']['hasNotch']=function(){return this['getNotchValue']()>0x0;};TDV['Tour']['prototype']['_getOrientation']=function(){var bm=this['_getRootPlayer']();if(bm){return bm['get']('orientation');}else if(this['_lockedOrientation']){return this['_lockedOrientation'];}else{return TDV['PlayerAPI']['getOrientation']();}};TDV['Tour']['prototype']['_getParams']=function(bn){var bo={};bn['split']('&')['forEach'](function(bp){var bq=bp['split']('=')[0x0],br=decodeURIComponent(bp['split']('=')[0x1]);bo[bq['toLowerCase']()]=br;});return bo;};TDV['Tour']['prototype']['_getRootPlayer']=function(){return this['player']!==undefined?this['player']['getById']('rootPlayer'):undefined;};TDV['Tour']['prototype']['_setup']=function(){if(!this['_orientation'])this['_orientation']=this['_getOrientation']();this['_device']=this['_getDevice']();this['_currentScriptUrl']=this['_getScriptUrl']();if(this['isMobile']()){var bs=document['getElementById']('metaViewport');if(bs){var bt=this['_devicesUrl'][this['_device']];var bu=0x1;if(typeof bt=='object'&&this['_orientation']in bt&&this['_orientation']==TDV['PlayerAPI']['ORIENTATION_LANDSCAPE']||this['_device']==TDV['Tour']['DEVICE_GENERAL']){bu=bs['getAttribute']('data-tdv-general-scale')||0.5;}var bv=bs['getAttribute']('content');bv=bv['replace'](/initial-scale=(\d+(\.\d+)?)/,function(bw,bx){return'initial-scale='+bu;});bs['setAttribute']('content',bv);}}};TDV['Tour']['prototype']['_getScriptUrl']=function(){var by=this['_devicesUrl'][this['_device']];if(typeof by=='object'){if(this['_orientation']in by){by=by[this['_orientation']];}}return by;};TDV['Tour']['prototype']['_getDevice']=function(){var bz=TDV['Tour']['DEVICE_GENERAL'];if(!this['_isRemoteSession']&&this['isMobile']()){if(this['isIPad']()&&TDV['Tour']['DEVICE_IPAD']in this['_devicesUrl'])bz=TDV['Tour']['DEVICE_IPAD'];else if(TDV['Tour']['DEVICE_MOBILE']in this['_devicesUrl'])bz=TDV['Tour']['DEVICE_MOBILE'];}return bz;};TDV['Tour']['prototype']['_setMediaFromURL']=function(bA,bB){var bC=this['_getRootPlayer']();var bD=bC['getActivePlayerWithViewer'](bC['getMainViewer']());var bE=bD?bC['getMediaFromPlayer'](bD):undefined;var bF;if('media'in bA){var bG=bA['media'];var bH=Number(bG);bF=isNaN(bH)?this['setMediaByName'](bG):this['setMediaByIndex'](bH-0x1);}else if('media-index'in bA){bF=this['setMediaByIndex'](parseInt(bA['media-index'])-0x1);}else if('media-name'in bA){bF=this['setMediaByName'](decodeURIComponent(bA['media-name']));}if(bF==undefined&&bB!==undefined){bF=this['setMediaByIndex'](0x0);}if(bF!=undefined){var bI=bF['get']('player');var bJ=function(){if('trigger-overlay-name'in bA){this['triggerOverlayByName'](bF['get']('media'),bA['trigger-overlay-name'],bA['trigger-overlay-event']);}if('focus-overlay-name'in bA){this['focusOverlayByName'](bF,bA['focus-overlay-name']);}else if('yaw'in bA||'pitch'in bA){var bN=bC['getPlayListWithItem'](bF);if(bN){switch(bF['get']('class')){case'PanoramaPlayListItem':var bO=parseFloat(bA['yaw'])||undefined;var bP=parseFloat(bA['pitch'])||undefined;bC['setPanoramaCameraWithSpot'](bN,bF,bO,bP);break;case'Model3DPlayListItem':var bQ=['yaw','pitch','x','y','z','distance'];var bR={};for(var bS=0x0;bS<bQ['length'];++bS){var bT=bQ[bS];var bU=parseFloat(bA[bT]);if(!isNaN(bU))bR[bT]=bU;}bC['setModel3DCameraSpot'](bN,bF,bR);break;}}}}['bind'](this);if(bI){var bK=bI['get']('viewerArea')==bC['getMainViewer']();var bL=bC['getMediaFromPlayer'](bI);if(bK&&bE==bF['get']('media')||!bK&&bL==bF['get']('media')){bJ();return bF!=undefined;}}var bM=function(){bF['unbind']('begin',bM,this);bJ();};bF['bind']('begin',bM,bC);}return bF!=undefined;};TDV['Tour']['prototype']['_setupRemote']=function(){if(this['isMobile']()&&TDV['Remote']!=undefined){var bV=function(){var bW;var bX=function(){var c0=this['_getRootPlayer']();bW=c0['get']('lockedOrientation');c0['set']('lockedOrientation',this['_lockedOrientation']);}['bind'](this);this['_isRemoteSession']=!![];this['_lockedOrientation']=TDV['PlayerAPI']['ORIENTATION_LANDSCAPE'];if(this['_device']!=TDV['Tour']['DEVICE_GENERAL']){var bY=function(){bX();this['unbind'](TDV['Tour']['EVENT_TOUR_INITIALIZED'],bY);}['bind'](this);this['bind'](TDV['Tour']['EVENT_TOUR_INITIALIZED'],bY);this['reload'](!![]);}else{bX();}var bZ=function(){this['_isRemoteSession']=![];this['_getRootPlayer']()['set']('lockedOrientation',bW);TDV['Remote']['unbind'](TDV['Remote']['EVENT_CALL_END'],bZ);var c1=this['_getScriptUrl']();if(this['_currentScriptUrl']!=c1)this['reload'](!![]);}['bind'](this);TDV['Remote']['bind'](TDV['Remote']['EVENT_CALL_END'],bZ);}['bind'](this);TDV['Remote']['bind'](TDV['Remote']['EVENT_CALL_BEGIN'],bV);}};TDV['Tour']['prototype']['_updateParams']=function(c2,c3){if(c3&&'language'in c2){var c4=c2['language'];if(this['locManager']['hasLocale'](c4)){this['setLocale'](c4);}}var c5=function(c7,c8,c9){var ca=c8['split'](',');for(var cb=0x0,cc=ca['length'];cb<cc;++cb){c7['call'](this,ca[cb]['split']('+'),c9,'and');}};var c6=function(cd){var ce=this['_getRootPlayer']();var cf=ce['getActiveMediaWithViewer'](ce['getMainViewer']());if(cf['get']('class')!='Model3D')return;var cg=cf['get']('objects');var ch=[];cd['split']('+')['forEach'](function(ci){var cj=ci['split'](',');var ck=cj['shift']();if(ck in ce&&cj['length']%0x3==0x0){var cl=cj[0x0],cm=cj[0x1],cn=cj[0x2];var co=cg['some'](function(ct){return ct['get']('class')=='MeasureModel3DObject'&&cl==ct['get']('x')&&cm==ct['get']('y')&&cn==ct['get']('z');});if(co)return;var cp=[];var cq=_cloneMeasureModel3DObject['call'](this,this[ck]);cq['set']('mode','view');cq['set']('x',cl);cq['set']('y',cm);cq['set']('z',cn);for(var cr=0x3;cr<cj['length'];cr+=0x3){var cs=this['createInstance']('MeasureModel3DObjectPoint');cs['set']('x',cj[cr]);cs['set']('y',cj[cr+0x1]);cs['set']('z',cj[cr+0x2]);cp['push'](cs);}cq['set']('points',cp);ch['push'](cq);}}['bind'](ce));if(ch['length']>0x0){cf['set']('objects',cg['concat'](ch));}};if('hide-components-tags'in c2||'hct'in c2)c5['call'](this,this['setComponentsVisibilityByTags'],c2['hide-components-tags']||c2['hct'],![]);if('show-components-tags'in c2||'sct'in c2)c5['call'](this,this['setComponentsVisibilityByTags'],c2['show-components-tags']||c2['sct'],!![]);if('hide-overlays-tags'in c2||'hot'in c2)c5['call'](this,this['setOverlaysVisibilityByTags'],c2['hide-overlays-tags']||c2['hot'],![]);if('show-overlays-tags'in c2||'sot'in c2)c5['call'](this,this['setOverlaysVisibilityByTags'],c2['show-overlays-tags']||c2['sot'],!![]);if('hide-overlays-names'in c2||'hon'in c2)this['setOverlaysVisibilityByName'](decodeURIComponent(c2['hide-overlays-names']||c2['hon'])['split'](','),![]);if('show-overlays-names'in c2||'son'in c2)this['setOverlaysVisibilityByName'](decodeURIComponent(c2['show-overlays-names']||c2['son'])['split'](','),!![]);if('show-object-ids'in c2||'sobjids'in c2)this['setObjectsVisibilityByID'](decodeURIComponent(c2['show-object-ids']||c2['sobjids'])['split'](','),!![]);if('hide-object-ids'in c2||'hobjids'in c2)this['setObjectsVisibilityByID'](decodeURIComponent(c2['hide-object-ids']||c2['hobjids'])['split'](','),![]);if('variant'in c2)this['setModel3DVariant'](decodeURIComponent(c2['variant']));if('measures'in c2)c6['call'](this,decodeURIComponent(c2['measures']['split'](';')));};TDV['Tour']['LocaleManager']=function(cu,cv,cw,cx){TDV['EventDispatcher']['call'](this);this['rootPlayer']=cu;this['locales']={};this['defaultLocale']=cw;this['queryParam']=cx;this['currentLocaleMap']={};this['currentLocaleID']=undefined;for(var cy in cv){this['registerLocale'](cy,cv[cy]);}};TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED']='localeChanged';TDV['Tour']['LocaleManager']['prototype']=new TDV['EventDispatcher']();TDV['Tour']['LocaleManager']['prototype']['registerLocale']=function(cz,cA){var cB=[cz,cz['split']('-')[0x0]];for(var cC=0x0;cC<cB['length'];++cC){cz=cB[cC];if(!(cz in this['locales'])){this['locales'][cz]=cA;}}};TDV['Tour']['LocaleManager']['prototype']['unregisterLocale']=function(cD){delete this['locales'][cD];if(cD==this['currentLocaleID']){this['setLocale'](this['defaultLocale']);}};TDV['Tour']['LocaleManager']['prototype']['hasLocale']=function(cE){return cE in this['locales'];};TDV['Tour']['LocaleManager']['prototype']['setLocale']=function(cF){var cG;var cH=cF['split']('-')[0x0];var cI=[cF,cH];for(var cJ=0x0;cJ<cI['length'];++cJ){var cL=cI[cJ];if(cL in this['locales']){cG=cL;break;}}if(cG===undefined){for(var cL in this['locales']){if(cL['indexOf'](cH)==0x0){cG=cL;break;}}}if(cG===undefined){cG=this['defaultLocale'];}var cM=this['locales'][cG];if(cM!==undefined&&this['currentLocaleID']!=cG){this['currentLocaleID']=cG;var cN=this;if(typeof cM=='string'){var cO=new XMLHttpRequest();cO['onreadystatechange']=function(){if(cO['readyState']==0x4){if(cO['status']==0xc8){cN['locales'][cG]=cN['currentLocaleMap']=cN['_parsePropertiesContent'](cO['responseText']);cN['dispatchEvent'](cN['createNewEvent'](TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED']));}else{throw cM+'\x20can\x27t\x20be\x20loaded';}}};var cP=cM;if(this['queryParam'])cP+=(cP['indexOf']('?')==-0x1?'?':'&')+this['queryParam'];cO['open']('GET',cP);cO['send']();}else{this['currentLocaleMap']=cM;this['dispatchEvent'](this['createNewEvent'](TDV['Tour']['LocaleManager']['EVENT_LOCALE_CHANGED']));}}};TDV['Tour']['LocaleManager']['prototype']['trans']=function(cQ){function cR(cV){return/^\d+$/['test'](cV);}var cS=this['currentLocaleMap'][cQ];if(cS&&arguments['length']>0x2){var cT=typeof arguments[0x2]=='object'?arguments[0x2]:undefined;var cU=arguments;cS=cS['replace'](/\{\{([\w _\-\.]+)\}\}/g,function(cW,cX){if(cR(cX))cX=cU[parseInt(cX)+0x1];else if(cT!==undefined)cX=cT[cX];if(typeof cX=='string')cX=this['currentLocaleMap'][cX]||cX;else if(typeof cX=='function')cX=cX['call'](this['rootPlayer']);return cX!==undefined?cX:'';}['bind'](this));}return cS;};TDV['Tour']['LocaleManager']['prototype']['_parsePropertiesContent']=function(cY){cY=cY['replace'](/(^|\n)#[^\n]*/g,'');var cZ={};var d0=cY['split']('\x0a');for(var d1=0x0,d2=d0['length'];d1<d2;++d1){var d3=d0[d1]['trim']();if(d3['length']==0x0){continue;}var d4=d3['indexOf']('=');if(d4==-0x1){console['error']('Locale\x20parser:\x20Invalid\x20line\x20'+d1);continue;}var d5=d3['substr'](0x0,d4)['trim']();var d6=d3['substr'](d4+0x1)['trim']();var d7;while((d7=d6['lastIndexOf']('\x5c'))!=-0x1&&d7==d6['length']-0x1&&++d1<d2){d6=d6['substr'](0x0,d6['length']-0x2);d3=d0[d1];if(d3['length']==0x0)break;d6+='\x0a'+d3;d6=d6['trim']();}cZ[d5]=d6;}return cZ;};TDV['Tour']['HistoryData']=function(d8){this['playList']=d8;this['list']=[];this['pointer']=-0x1;};TDV['Tour']['HistoryData']['prototype']['add']=function(d9){if(this['pointer']<this['list']['length']&&this['list'][this['pointer']]==d9){return;}++this['pointer'];this['list']['splice'](this['pointer'],this['list']['length']-this['pointer'],d9);};TDV['Tour']['HistoryData']['prototype']['back']=function(){if(!this['canBack']())return;this['playList']['set']('selectedIndex',this['list'][--this['pointer']]);};TDV['Tour']['HistoryData']['prototype']['forward']=function(){if(!this['canForward']())return;this['playList']['set']('selectedIndex',this['list'][++this['pointer']]);};TDV['Tour']['HistoryData']['prototype']['canBack']=function(){return this['pointer']>0x0;};TDV['Tour']['HistoryData']['prototype']['canForward']=function(){return this['pointer']>=0x0&&this['pointer']<this['list']['length']-0x1;};function _getObject(da,db){return typeof db=='string'?da[db['replace']('this.','')]:db;}function _initModels(){var dc=this['getByClassName']('Model3D');dc['forEach'](function(dd){var de=dd['get']('data');var df=de['panoramaLocations'];if(df){df['forEach'](function(dg){dg=_getObject(this,dg);var dh=dg['get']('data');var di=_getObject(this,dh['panorama']);di['set']('modelLocations',(di['get']('modelLocations')||[])['concat'](dg));}['bind'](this));}this['getPlayListItems'](dd)['forEach'](function(dj){_initModel3DItem['call'](this,dj);}['bind'](this));}['bind'](this));}function _initModel3DItem(dk){var dl=dk['get']('player');if(!dl)return;var dm=dl['get']('viewerArea');if(!dm)return;var dn=dk['get']('media');var dp;dk['bind']('begin',function(){_initModel['call'](this,dn);dp=dm['get']('doubleClickAction');dm['set']('doubleClickAction','none');this['getCurrentPlayers']()['forEach'](function(dq){if(dq['get']('class')=='PanoramaPlayer'&&dq['get']('viewerArea')==dm){dq['set']('model3DPlayer',dl);}});},this);dk['bind']('stop',function(){dm['set']('doubleClickAction',dp);},this);}function _initModel(dr){var ds=dr['get']('data');if(!ds)dr['set']('data',ds={});if(!ds['panoramaLocations']||ds['isInitialized']||!dr['get']('isLoaded'))return;var dt=0xb4/Math['PI'];var du=dr['get']('worldUnitToMeters')||0x1;var dv=ds['maxDistanceObjectsVisible']||0x0;var dw=ds['panoramaLocations'];var dx=[];var dy=this['get']('data')['surfaceSelectionHotspotMode'];var dz=dy=='hotspotEnabled';dw['forEach'](function(dG){dG=_getObject(this,dG);var dH=dG['get']('data');var dI=dr['getDistanceToFloor']([dG['get']('x'),dG['get']('y'),dG['get']('z')]);var dJ=_getObject(this,dH['panorama']);var dK=dw['filter'](function(dT){var dU=_getObject(this,_getObject(this,dT)['get']('data'));return!dU['excludeAsHotspotPanorama']&&dJ!=dU['panorama'];}['bind'](this))['map'](function(dV){dV=_getObject(this,dV);var dW=dV['get']('data');var dX=!!dW['excludeSurfaceSelectionModel'];var dY=dV['get']('x')-dG['get']('x'),dZ=dV['get']('y')-dG['get']('y'),e0=dV['get']('z')-dG['get']('z');var e1=Math['atan2'](dY,-e0)*dt;var e2=Math['atan2'](dZ,Math['sqrt'](dY*dY+e0*e0))*dt;var e3=Math['sqrt'](dY*dY+dZ*dZ+e0*e0);var e4=dr['getDistanceToFloor']([dV['get']('x'),dV['get']('y'),dV['get']('z')]);if(dI!==undefined&&e4!==undefined)dZ=e4-dI;var e5=Math['sqrt'](dY*dY+dZ*dZ+e0*e0);return{'yaw':e1,'pitch':e2,'width':dW['width'],'height':dW['height'],'opacity':dW['opacity'],'anchorX':dW['anchorX']?dW['anchorX']:0.5,'anchorY':dW['anchorY']?dW['anchorY']:0.5,'transparentAreaActive':!!dW['transparentAreaActive'],'actions':dW['actions'],'position':{'x':dV['get']('x'),'y':dV['get']('y'),'z':dV['get']('z')},'toolTip':dW['toolTip'],'image':_getObject(this,dW['image']),'distance':e3*du,'floorDistance':e5*du,'panorama':_getObject(this,dW['panorama']),'backwardYaw':e1-0xb4-dV['get']('yaw'),'excludeSurfacePanorama':dX};}['bind'](this));dK['sort'](function(e6,e7){return e6['distance']-e7['distance'];});var dL=[],dM=(dJ['get']('adjacentPanoramas')||[])['concat']();var dN=dr['get']('maxNearestObjectsVisible');var dO=ds['showOnlyHotspotsLineSightInPanoramas'];var dP={'x':dG['get']('x'),'y':dG['get']('y'),'z':dG['get']('z')};dK['forEach'](function(e8){if(e8['panorama']==dJ||dN>0x0&&dL['length']>=dN||dv>0x0&&e8['distance']>dv||dO&&dr['testIntersection'](dP,e8['position']))return;var e9=dB['call'](this,e8['panorama'],e8['yaw']-dG['get']('yaw'),e8['pitch'],e8['width'],e8['height'],e8['anchorX'],e8['anchorY'],e8['opacity'],e8['transparentAreaActive'],e8['image'],dz&&!e8['excludeSurfacePanorama']);var ea=dC['call'](this,e8['panorama'],e8['yaw']-dG['get']('yaw'),e8['backwardYaw'],e8['floorDistance'],!e8['excludeSurfacePanorama']);dL['push'](e9);var eb=dM['findIndex'](function(ee){return ee['get']('panorama')==e8['panorama'];});if(eb!=-0x1)dM['splice'](eb,0x1);dM['push'](ea);var ec=e9['get']('areas')[0x0];if(e8['toolTip'])ec['set']('toolTip',e8['toolTip']);ec['bind']('click',dA['bind'](this,dJ,e8['panorama'],dr,!![]),this);ea['bind']('select',dA['bind'](this,dJ,e8['panorama'],dr,!![]),this);var ed=e8['actions'];if(ed){dF['call'](this,e9,ed);if('click'in ed)ea['bind']('select',new Function('event',ed['click']),this);}}['bind'](this));dJ['set']('overlays',(dJ['get']('overlays')||[])['concat'](dL));dJ['set']('adjacentPanoramas',dM);var dQ=!dr['get']('surfaceSelectionEnabled')||!!dH['excludeSurfaceSelectionModel'];var dR;if(dQ){dR=dD['call'](this,dG['get']('x'),dG['get']('y'),dG['get']('z'),dH['width'],dH['height'],dH['anchorX']?dH['anchorX']:0.5,dH['anchorY']?dH['anchorY']:0.5,dH['opacity'],!!dH['transparentAreaActive'],ds['showOnlyHotspotsLineSight'],_getObject(this,dH['image']));dR['set']('id','sprite_'+dG['get']('id'));dR['set']('translationLineColor',dH['translationLineColor']!=null?dH['translationLineColor']:'#ffffff');dR['set']('translationLineOpacity',dH['translationLineOpacity']!=null?dH['translationLineOpacity']:0x1);dR['set']('translationLineVisible',dH['translationLineVisible']!=null?dH['translationLineVisible']:![]);dR['set']('translationLineWidth',dH['translationLineWidth']!=null?dH['translationLineWidth']:0x1);dR['set']('translationLength',dH['translationLength']!=null?dH['translationLength']:ds['showOnlyHotspotsLineSight']&&(dH['translationY']==null||dH['translationY']==0x0)?dH['height']/0x2:undefined);dR['set']('translationX',dH['translationX']!=null?dH['translationX']:0x0);dR['set']('translationY',dH['translationY']!=null&&dH['translationY']!=0x0?dH['translationY']:ds['showOnlyHotspotsLineSight']?0x1:0x0);dR['set']('translationZ',dH['translationZ']!=null?dH['translationZ']:0x0);if(dH['toolTip'])dR['set']('toolTip',dH['toolTip']);dH['sprite']=dR;}else dR=dE['call'](this,dG['get']('x'),dG['get']('y'),dG['get']('z'));if(dH['enabled']!==undefined)dR['set']('enabled',dH['enabled']);dR['get']('data')['location']=dG;var dS=dH['actions'];if(dS){dF['call'](this,dR,dS);}dR['bind']('click',dA['bind'](this,dr,dJ,dr,![]),this);dx['push'](dR);}['bind'](this));dr['set']('objects',(dr['get']('objects')||[])['concat'](dx));ds['isInitialized']=!![];function dA(ef,eg,eh,ei){var ej=this['getPlayListsWithMedia'](ef,!![])['filter'](function(eq){return this['getMediaFromPlayer'](eq['get']('items')[eq['get']('selectedIndex')]['get']('player'))==ef;}['bind'](this));if(ej['length']==0x0)return;var ek=this['getPlayListItemByMedia'](ej[0x0],ef);var el=ek['get']('player')['get']('viewerArea');var em;this['getPlayListsWithMedia'](eg)['forEach'](function(er){var es=this['getPlayListItemByMedia'](er,eg);if(es['get']('player')['get']('viewerArea')==el){if(ei&&ek['get']('player')['get']('viewerArea')['get']('translationTransitionEnabled')){en();es['bind']('begin',ep,this);}er['set']('selectedIndex',er['get']('items')['indexOf'](es));}}['bind'](this));function en(){em=eh['get']('objects')['filter'](function(et){var eu=et['get']('data');return eu&&eu['location']!==undefined;});em['forEach'](function(ev){ev['set']('enabled',![]);});}function eo(){em['forEach'](function(ew){ew['set']('enabled',!![]);});}function ep(ex){ex['source']['unbind']('begin',ep,this);eo();}}function dB(ey,ez,eA,eB,eC,eD,eE,eF,eG,eH,eI){var eJ=_createInstanceFromObj(this,{'class':'HotspotPanoramaOverlay','useHandCursor':!![],'enabledInSurfaceSelection':eI,'areas':[{'class':'HotspotPanoramaOverlayArea','mapColor':eG?'any':'image'}],'items':[{'class':'FlatHotspotPanoramaOverlayImage','yaw':ez,'pitch':eA,'width':eB,'height':eC,'offsetX':eD*eB,'offsetY':eE*eC,'opacity':eF!=undefined?eF:0x1}]});eJ['get']('items')[0x0]['set']('image',eH);return eJ;}function dC(eK,eL,eM,eN,eO){return _createInstanceFromObj(this,{'class':'AdjacentPanorama','panorama':'this.'+eK['get']('id'),'backwardYaw':eM,'yaw':eL,'distance':eN,'enabledInSurfaceSelection':eO});}function dD(eP,eQ,eR,eS,eT,eU,eV,eW,eX,eY,eZ){var f0=_createInstanceFromObj(this,{'class':'SpriteModel3DObject','x':eP,'y':eQ,'z':eR,'anchorX':eU,'anchorY':eV,'depthTest':eY,'transparentAreaActive':eX,'hideBasedOnDistance':!![],'width':eS,'height':eT,'opacity':eW!=undefined?eW:0x1,'data':{}});f0['set']('image',eZ);return f0;}function dE(f1,f2,f3){return _createInstanceFromObj(this,{'class':'SurfaceReticleModel3DObject','x':f1,'y':f2,'z':f3,'depthTest':![],'data':{}});}function dF(f4,f5){Object['keys'](f5)['forEach'](function(f6){if(f4['hasEvent'](f6))f4['bind'](f6,new Function('event',f5[f6]),this);}['bind'](this));}}function _findLocationWithPanorama(f7){var f8=this['getByClassName']('Model3D');for(var f9=0x0,fa=f8['length'];f9<fa;++f9){var fb=f8[f9];var fc=fb['get']('data');if(fc&&fc['panoramaLocations']){var fd=fc['panoramaLocations']['find'](function(fe){fe=_getObject(this,fe);return _getObject(this,fe['get']('data')['panorama'])==f7;}['bind'](this));if(fd)return _getObject(this,fd);}}return undefined;}function _getPlayersWithViewer(ff){var fg=this['getCurrentPlayers']();var fh=fg['length'];while(fh-->0x0){var fi=fg[fh];if(fi['get']('viewerArea')!=ff){fg['splice'](fh,0x1);}}return fg;}function _createInstance(fj,fk,fl){var fm=fj['createInstance'](fk);if(fl){fm['set']('id',fl);fj[fl]=fm;}return fm;}function _createInstanceFromObj(fn,fo){return fp(fo);function fp(fq,fr){if(typeof fq=='object'){if('class'in fq){try{fr=_createInstance(fn,fq['class'],fq['id']);}catch(fv){fr=fq;}}else{fr=fq;}}var fs=function(fw,fx){if('set'in fr)fr['set'](fw,fx);else fr[fw]=fx;};for(var ft in fq){var fu=fq[ft];if(typeof fu=='object'&&fu!==null)fs(ft,fp(fu,fr));else if(typeof fu=='string'&&fu['indexOf']('this.')==0x0)fs(ft,fn[fu['replace']('this.','')]);else fs(ft,fu);}return fr;}}TDV['Tour']['Script']=function(){};TDV['Tour']['Script']['assignObjRecursively']=function(fy,fz){for(var fA in fy){var fB=fy[fA];if(typeof fB=='object'&&fB!==null)this['assignObjRecursively'](fy[fA],fz[fA]||(fz[fA]={}));else fz[fA]=fB;}return fz;};TDV['Tour']['Script']['autotriggerAtStart']=function(fC,fD,fE){var fF=function(fG){fD();if(fE==!![])fC['unbind']('change',fF,this);};fC['bind']('change',fF,this);};TDV['Tour']['Script']['changeBackgroundWhilePlay']=function(fH,fI,fJ){var fK=function(){fL['unbind']('stop',fK,this);if(fJ==fN['get']('backgroundColor')&&fQ==fN['get']('backgroundColorRatios')){fN['set']('backgroundColor',fO);fN['set']('backgroundColorRatios',fP);}};var fL=fH['get']('items')[fI];var fM=fL['get']('player');var fN=fM['get']('viewerArea');var fO=fN['get']('backgroundColor');var fP=fN['get']('backgroundColorRatios');var fQ=[0x0];if(fJ!=fO||fQ!=fP){fN['set']('backgroundColor',fJ);fN['set']('backgroundColorRatios',fQ);fL['bind']('stop',fK,this);}};TDV['Tour']['Script']['changeOpacityWhilePlay']=function(fR,fS,fT){var fU=function(){fV['unbind']('stop',fU,this);if(fY==fX['get']('backgroundOpacity')){fX['set']('opacity',fY);}};var fV=fR['get']('items')[fS];var fW=fV['get']('player');var fX=fW['get']('viewerArea');var fY=fX['get']('backgroundOpacity');if(fT!=fY){fX['set']('backgroundOpacity',fT);fV['bind']('stop',fU,this);}};TDV['Tour']['Script']['changePlayListWithSameSpot']=function(fZ,g0){var g1=fZ['get']('selectedIndex');if(g1>=0x0&&g0>=0x0&&g1!=g0){var g2=fZ['get']('items')[g1];var g3=fZ['get']('items')[g0];var g4=g2['get']('player');var g5=g3['get']('player');if((g4['get']('class')=='PanoramaPlayer'||g4['get']('class')=='Video360Player')&&(g5['get']('class')=='PanoramaPlayer'||g5['get']('class')=='Video360Player')){var g6=this['clonePanoramaCamera'](g3['get']('camera'));this['setCameraSameSpotAsMedia'](g6,g2['get']('media'));var g7=g6['get']('initialPosition');if(g7['get']('yaw')==undefined||g7['get']('pitch')==undefined||g7['get']('hfov')==undefined)return;this['startPanoramaWithCamera'](g3['get']('media'),g6);}}};TDV['Tour']['Script']['clone']=function(g8,g9){var gb=this['rootPlayer']['createInstance'](g8['get']('class'));var gc=g8['get']('id');if(gc){var gd=gc+'_'+Math['random']()['toString'](0x24)['substring'](0x2,0xf);gb['set']('id',gd);this[gd]=gb;}for(var ge=0x0;ge<g9['length'];++ge){var gf=g9[ge];var gg=g8['get'](gf);if(gg!=null)gb['set'](gf,gg);}return gb;};TDV['Tour']['Script']['cloneBindings']=function(gh,gi,gj){var gk=gh['getBindings'](gj);for(var gl=0x0;gl<gk['length'];++gl){var gm=gk[gl];if(typeof gm=='string')gm=new Function('event',gm);gi['bind'](gj,gm,this);}};TDV['Tour']['Script']['clonePanoramaCamera']=function(gn){var go=this['clone'](gn,['manualRotationSpeed','manualZoomSpeed','automaticRotationSpeed','automaticZoomSpeed','timeToIdle','sequences','draggingFactor','hoverFactor']);var gp=['initialSequence','idleSequence'];for(var gq=0x0;gq<gp['length'];++gq){var gr=gp[gq];var gs=gn['get'](gr);if(gs){var gt=this['clone'](gs,['mandatory','repeat','restartMovementOnUserInteraction','restartMovementDelay']);go['set'](gr,gt);var gu=gs['get']('movements');var gv=[];var gw=['easing','duration','hfovSpeed','pitchSpeed','yawSpeed','path','stereographicFactorSpeed','targetYaw','targetPitch','targetHfov','targetStereographicFactor','hfovDelta','pitchDelta','yawDelta'];for(var gx=0x0;gx<gu['length'];++gx){var gy=gu[gx];var gz=this['clone'](gy,gw);var gA=gy['getBindings']('end');if(gA['length']>0x0){for(var gB=0x0;gB<gA['length'];++gB){var gC=gA[gB];if(typeof gC=='string'){gC=gC['replace'](gn['get']('id'),go['get']('id'));gC=new Function('event',gC);gz['bind']('end',gC,this);}}}gv['push'](gz);}gt['set']('movements',gv);}}return go;};TDV['Tour']['Script']['copyObjRecursively']=function(gD){var gE={};for(var gF in gD){var gG=gD[gF];if(typeof gG=='object'&&gG!==null)gE[gF]=this['copyObjRecursively'](gD[gF]);else gE[gF]=gG;}return gE;};TDV['Tour']['Script']['copyToClipboard']=function(gH){if(navigator['clipboard']){navigator['clipboard']['writeText'](gH);}else{var gI=document['createElement']('textarea');gI['value']=gH;gI['style']['position']='fixed';document['body']['appendChild'](gI);gI['focus']();gI['select']();try{document['execCommand']('copy');}catch(gJ){}document['body']['removeChild'](gI);}};TDV['Tour']['Script']['createTween']=function(gK,gL,gM,gN,gO){var gP=this['rootPlayer']['createInstance']('Effect');var gQ=this['get']('data')['tweensState'];if(!gQ){this['get']('data')['tweensState']=gQ={};}var gR='get'in gK&&typeof gK['get']==='function';var gS=(gR&&gK['get']('id')?gK['get']('id'):(Math['random']()+0x1)['toString'](0x24)['substring'](0x2))+'_';var gT={};for(var gU in gL){var gV=gL[gU];if(gU['startsWith']('on')&&(typeof gV==='function'||typeof gV==='string')){var gW=gU['slice'](0x2);if(typeof gV==='string')gV=eval('('+gV+')');gP['bind'](gW['charAt'](0x0)['toLowerCase']()+gW['slice'](0x1),gV,this);}else if(typeof gV==='string'&&gV['startsWith']('#')){var gX=parseInt('0x'+(gR?gK['get'](gU)['slice'](0x1):gK[gU]['slice'](0x1)));var gY=parseInt('0x'+gV['slice'](0x1));gT[gU]={'color':!![],'initialRGB':[gX>>0x10&0xff,gX>>0x8&0xff,gX&0xff],'finalRGB':[gY>>0x10&0xff,gY>>0x8&0xff,gY&0xff]};gQ[gS+gU]=gP;}else{gT[gU]=gR?gK['get'](gU):gK[gU];gQ[gS+gU]=gP;}}gP['set']('duration',(gM||0x0)*0x3e8);gP['set']('easing',gN||'cubic_in_out');gP['set']('animationDirection',gO||'normal');gP['bind']('end',function(){for(var gZ in gT){if(gQ[gS+gZ]==gP)delete gQ[gS+gZ];}this['disposeInstance'](gP);},this);gP['bind']('frame',function(){var h0=gP['getPosition']();for(var h1 in gT){var h2=gT[h1];if(gQ[gS+h1]!=gP)continue;if(typeof h2==='object'&&'color'in h2){var h3=Math['round'](h2['initialRGB'][0x0]+(h2['finalRGB'][0x0]-h2['initialRGB'][0x0])*h0);var h4=Math['round'](h2['initialRGB'][0x1]+(h2['finalRGB'][0x1]-h2['initialRGB'][0x1])*h0);var h5=Math['round'](h2['initialRGB'][0x2]+(h2['finalRGB'][0x2]-h2['initialRGB'][0x2])*h0);h2='#'+((0x1<<0x18)+(h3<<0x10)+(h4<<0x8)+h5)['toString'](0x10)['slice'](0x1);}else{h2=h2+(gL[h1]-h2)*h0;}if(gR)gK['set'](h1,h2);else gK[h1]=h2;}},this);return gP;};TDV['Tour']['Script']['executeFunctionWhenChange']=function(h6,h7,h8,h9){var ha=undefined;var hb=function(hf){if(hf['data']['previousSelectedIndex']==h7){if(h9)h9['call'](this);if(h8&&ha)ha['unbind']('end',h8,this);h6['unbind']('change',hb,this);}};if(h8){var hc=h6['get']('items')[h7];var hd=hc['get']('class');if(hd=='PanoramaPlayListItem'||hd=='Model3DPlayListItem'){var he=hc['get']('camera');if(he!=undefined){ha=he['get']('initialSequence');if(ha==undefined)ha=he['get']('idleSequence');}}else{ha=hc['get']('media');}if(ha){ha['bind']('end',h8,this);}}h6['bind']('change',hb,this);};TDV['Tour']['Script']['executeJS']=function(hg){try{eval(hg);}catch(hh){console['log']('Javascript\x20error:\x20'+hh);console['log']('\x20\x20\x20code:\x20'+hg);}};TDV['Tour']['Script']['fixTogglePlayPauseButton']=function(hi){var hj=hi['get']('buttonPlayPause');if(typeof hj!=='undefined'&&hi['get']('state')=='playing'){if(!Array['isArray'](hj))hj=[hj];for(var hk=0x0;hk<hj['length'];++hk)hj[hk]['set']('pressed',!![]);}};TDV['Tour']['Script']['getActiveMediaWithViewer']=function(hl){var hm=this['getActivePlayerWithViewer'](hl);if(hm==undefined){return undefined;}return this['getMediaFromPlayer'](hm);};TDV['Tour']['Script']['getActivePlayerWithViewer']=function(hn){var ho=this['getActivePlayersWithViewer'](hn);if(ho['length']>0x1){ho['sort'](function(hp,hq){var hr=hp['get']('class');var hs=hq['get']('class');if(hr=='Model3DPlayer')return 0x1;else if(hs=='Model3DPlayer')return-0x1;else return 0x0;});}return ho['length']>0x0?ho[0x0]:undefined;};TDV['Tour']['Script']['getActivePlayersWithViewer']=function(ht){var hu=this['getCurrentPlayers']();var hv=hu['length'];var hw=[];while(hv-->0x0){var hx=hu[hv];if(hx['get']('viewerArea')==ht){var hy=hx['get']('class');if(hy=='PanoramaPlayer'&&(hx['get']('panorama')!=undefined||hx['get']('video')!=undefined)||(hy=='VideoPlayer'||hy=='Video360Player')&&hx['get']('video')!=undefined||hy=='PhotoAlbumPlayer'&&hx['get']('photoAlbum')!=undefined||hy=='MapPlayer'&&hx['get']('map')!=undefined||hy=='Model3DPlayer'&&hx['get']('model')!=undefined)hw['push'](hx);}}return hw;};TDV['Tour']['Script']['getCurrentPlayerWithMedia']=function(hz){var hA=undefined;var hB=undefined;switch(hz['get']('class')){case'Panorama':case'LivePanorama':case'HDRPanorama':hA='PanoramaPlayer';hB='panorama';break;case'Video360':hA='PanoramaPlayer';hB='video';break;case'PhotoAlbum':hA='PhotoAlbumPlayer';hB='photoAlbum';break;case'Map':hA='MapPlayer';hB='map';break;case'Video':hA='VideoPlayer';hB='video';break;case'Model3D':hA='Model3DPlayer';hB='media';break;}if(hA!=undefined){var hC=this['getByClassName'](hA);for(var hD=0x0;hD<hC['length'];++hD){var hE=hC[hD];if(hE['get'](hB)==hz){return hE;}}}else{return undefined;}};TDV['Tour']['Script']['getCurrentPlayers']=function(){var hF=this['getByClassName']('PanoramaPlayer');hF=hF['concat'](this['getByClassName']('VideoPlayer'));hF=hF['concat'](this['getByClassName']('Video360Player'));hF=hF['concat'](this['getByClassName']('PhotoAlbumPlayer'));hF=hF['concat'](this['getByClassName']('MapPlayer'));hF=hF['concat'](this['getByClassName']('Model3DPlayer'));return hF;};TDV['Tour']['Script']['getGlobalAudio']=function(hG){var hH=window['currentGlobalAudios'];if(hH!=undefined&&hG['get']('id')in hH){hG=hH[hG['get']('id')]['audio'];}return hG;};TDV['Tour']['Script']['getMediaByName']=function(hI){var hJ=this['getByClassName']('Media');for(var hK=0x0,hL=hJ['length'];hK<hL;++hK){var hM=hJ[hK];var hN=hM['get']('data');if(hN&&hN['label']==hI){return hM;}}return undefined;};TDV['Tour']['Script']['getMediaByTags']=function(hO,hP){return this['_getObjectsByTags'](hO,['Media'],'tags2Media',hP);};TDV['Tour']['Script']['getAudioByTags']=function(hQ,hR){return this['_getObjectsByTags'](hQ,['Audio'],'tags2Media',hR);};TDV['Tour']['Script']['getOverlaysByTags']=function(hS,hT){return this['_getObjectsByTags'](hS,['HotspotPanoramaOverlay','HotspotMapOverlay','VideoPanoramaOverlay','QuadVideoPanoramaOverlay','FramePanoramaOverlay','QuadFramePanoramaOverlay','SpriteModel3DObject','PanoramaModel3DLocation'],'tags2Overlays',hT);};TDV['Tour']['Script']['getOverlaysByGroupname']=function(hU){var hV=this['get']('data');var hW='groupname2Overlays';var hX=hV[hW];if(!hX){var hY=['HotspotPanoramaOverlay','VideoPanoramaOverlay','QuadVideoPanoramaOverlay','FramePanoramaOverlay','QuadFramePanoramaOverlay'];hV[hW]=hX={};for(var hZ=0x0;hZ<hY['length'];++hZ){var i0=hY[hZ];var i1=this['getByClassName'](i0);for(var i2=0x0,i3=i1['length'];i2<i3;++i2){var i4=i1[i2];var i5=i4['get']('data');if(i5&&i5['group']){var i6=hX[i5['group']];if(!i6)hX[i5['group']]=i6=[];i6['push'](i4);}}}}return hX[hU]||[];};TDV['Tour']['Script']['getRootOverlay']=function(i7){var i8=i7['get']('class');var i9=i8['indexOf']('HotspotPanoramaOverlayArea')!=-0x1;var ia=i8['indexOf']('HotspotPanoramaOverlayImage')!=-0x1;if(i9||ia){var ib=this['get']('data');var ic='overlays';var ie=ib[ic];if(!ie){var ig=['HotspotPanoramaOverlay'];ie=[];for(var ih=0x0;ih<ig['length'];++ih){var ii=ig[ih];ie=ie['concat'](this['getByClassName'](ii));}ib[ic]=ie;}var ij=i9?'areas':'items';for(var ik=0x0,il=ie['length'];ik<il;++ik){var im=ie[ik];var io=im['get'](ij);if(io){for(var ip=0x0;ip<io['length'];++ip){if(io[ip]==i7)return im;}}}}return i7;};TDV['Tour']['Script']['initOverlayGroupRotationOnClick']=function(iq){var ir=this['getOverlaysByGroupname'](iq);if(ir['length']>0x1){ir['sort'](function(iy,iz){var iA=iy['get']('data')['groupIndex'];var iB=iz['get']('data')['groupIndex'];return iA-iB;});for(var is=0x0,it=ir['length'];is<it;++is){var iu=ir[is];var iv=ir[(is+0x1)%it];var iw=iu['get']('class');var ix=iu;if(iw=='HotspotPanoramaOverlay'){ix=iu['get']('areas')[0x0];}ix['bind']('click',function(iC,iD){this['setOverlaysVisibility']([iC],![]);this['setOverlaysVisibility']([iD],!![]);}['bind'](this,iu,iv),this);}}};TDV['Tour']['Script']['getComponentsByTags']=function(iE,iF){return this['_getObjectsByTags'](iE,['UIComponent'],'tags2Components',iF);};TDV['Tour']['Script']['_getObjectsByTags']=function(iG,iH,iI,iJ){var iK=this['get']('data');var iL=iK[iI];if(!iL){iK[iI]=iL={};for(var iM=0x0;iM<iH['length'];++iM){var iN=iH[iM];var iO=this['getByClassName'](iN);for(var iQ=0x0,iS=iO['length'];iQ<iS;++iQ){var iU=iO[iQ];var iV=iU['get']('data');if(iV&&iV['tags']){var iW=iV['tags'];for(var iZ=0x0,j0=iW['length'];iZ<j0;++iZ){var j1=iW[iZ];if(j1 in iL)iL[j1]['push'](iU);else iL[j1]=[iU];}}}}}var j2=undefined;iJ=iJ||'and';for(var iQ=0x0,iS=iG['length'];iQ<iS;++iQ){var j3=iL[iG[iQ]];if(!j3)continue;if(!j2)j2=j3['concat']();else{if(iJ=='and'){for(var iZ=j2['length']-0x1;iZ>=0x0;--iZ){if(j3['indexOf'](j2[iZ])==-0x1)j2['splice'](iZ,0x1);}}else if(iJ=='or'){for(var iZ=j3['length']-0x1;iZ>=0x0;--iZ){var iU=j3[iZ];if(j2['indexOf'](iU)==-0x1)j2['push'](iU);}}}}return j2||[];};TDV['Tour']['Script']['getComponentByName']=function(j4){var j5=this['getByClassName']('UIComponent');for(var j6=0x0,j7=j5['length'];j6<j7;++j6){var j8=j5[j6];var j9=j8['get']('data');if(j9!=undefined&&j9['name']==j4){return j8;}}return undefined;};TDV['Tour']['Script']['getMainViewer']=function(){var ja='MainViewer';return this[ja]||this[ja+'_mobile'];};TDV['Tour']['Script']['getMediaFromPlayer']=function(jb){switch(jb['get']('class')){case'PanoramaPlayer':return jb['get']('panorama')||jb['get']('video');case'VideoPlayer':case'Video360Player':return jb['get']('video');case'PhotoAlbumPlayer':return jb['get']('photoAlbum');case'MapPlayer':return jb['get']('map');case'Model3DPlayer':return jb['get']('model');}};TDV['Tour']['Script']['getMediaWidth']=function(jc){switch(jc['get']('class')){case'Video360':var jd=jc['get']('video');if(jd instanceof Array){var je=0x0;for(var jf=0x0;jf<jd['length'];jf++){var jg=jd[jf];if(jg['get']('width')>je)je=jg['get']('width');}return je;}else{return jg['get']('width');}default:return jc['get']('width');}};TDV['Tour']['Script']['getMediaHeight']=function(jh){switch(jh['get']('class')){case'Video360':var ji=jh['get']('video');if(ji instanceof Array){var jj=0x0;for(var jk=0x0;jk<ji['length'];jk++){var jl=ji[jk];if(jl['get']('height')>jj)jj=jl['get']('height');}return jj;}else{return jl['get']('height');}default:return jh['get']('height');}};TDV['Tour']['Script']['getOverlays']=function(jm){switch(jm['get']('class')){case'LivePanorama':case'HDRPanorama':case'Panorama':var jn=jm['get']('overlays')['concat']()||[];var jo=jm['get']('frames');for(var jp=0x0;jp<jo['length'];++jp){jn=jn['concat'](jo[jp]['get']('overlays')||[]);}return jn;case'Video360':case'Map':return jm['get']('overlays')||[];case'Model3D':return jm['get']('objects');default:return[];}};TDV['Tour']['Script']['getPanoramaOverlayByName']=function(jq,jr){var js=this['getOverlays'](jq);for(var jt=0x0,ju=js['length'];jt<ju;++jt){var jv=js[jt];var jw=jv['get']('data');if(jw!=undefined&&jw['label']==jr){return jv;}}return undefined;};TDV['Tour']['Script']['getPanoramaOverlaysByTags']=function(jx,jy,jz){var jA=[];var jB=this['getOverlays'](jx);var jC=this['getOverlaysByTags'](jy,jz);for(var jD=0x0,jE=jB['length'];jD<jE;++jD){var jF=jB[jD];if(jC['indexOf'](jF)!=-0x1)jA['push'](jF);}return jA;};TDV['Tour']['Script']['getPixels']=function(jG){var jH=/((\+|-)?d+(.d*)?)(px|vw|vh|vmin|vmax)?/i['exec'](jG);if(jH==undefined){return 0x0;}var jI=parseFloat(jH[0x1]);var jJ=jH[0x4];var jK=this['rootPlayer']['get']('actualWidth')/0x64;var jL=this['rootPlayer']['get']('actualHeight')/0x64;switch(jJ){case'vw':return jI*jK;case'vh':return jI*jL;case'vmin':return jI*Math['min'](jK,jL);case'vmax':return jI*Math['max'](jK,jL);default:return jI;}};TDV['Tour']['Script']['getPlayListsWithMedia']=function(jM,jN){var jO=[];var jP=this['getByClassName']('PlayList');for(var jQ=0x0,jR=jP['length'];jQ<jR;++jQ){var jS=jP[jQ];if(jN&&jS['get']('selectedIndex')==-0x1)continue;var jT=this['getPlayListItemByMedia'](jS,jM);if(jT!=undefined&&jT['get']('player')!=undefined)jO['push'](jS);}return jO;};TDV['Tour']['Script']['_getPlayListsWithViewer']=function(jU){var jV=this['getByClassName']('PlayList');var jW=function(jY){var jZ=jY['get']('items');for(var k0=jZ['length']-0x1;k0>=0x0;--k0){var k1=jZ[k0];var k2=k1['get']('player');if(k2!==undefined&&k2['get']('viewerArea')==jU)return!![];}return![];};for(var jX=jV['length']-0x1;jX>=0x0;--jX){if(!jW(jV[jX]))jV['splice'](jX,0x1);}return jV;};TDV['Tour']['Script']['getPlayListWithItem']=function(k3){var k4=this['getByClassName']('PlayList');for(var k5=k4['length']-0x1;k5>=0x0;--k5){var k6=k4[k5];var k7=k6['get']('items');for(var k8=k7['length']-0x1;k8>=0x0;--k8){var k9=k7[k8];if(k9==k3)return k6;}}return undefined;};TDV['Tour']['Script']['getFirstPlayListWithMedia']=function(ka,kb){var kc=this['getPlayListsWithMedia'](ka,kb);return kc['length']>0x0?kc[0x0]:undefined;};TDV['Tour']['Script']['getPlayListItemByMedia']=function(kd,ke){var kf=kd['get']('items');for(var kg=0x0,kh=kf['length'];kg<kh;++kg){var ki=kf[kg];if(ki['get']('media')==ke)return ki;}return undefined;};TDV['Tour']['Script']['getPlayListItemIndexByMedia']=function(kj,kk){var kl=this['getPlayListItemByMedia'](kj,kk);return kl?kj['get']('items')['indexOf'](kl):-0x1;};TDV['Tour']['Script']['getPlayListItems']=function(km,kn){var ko=function(){switch(km['get']('class')){case'Panorama':case'LivePanorama':case'HDRPanorama':return'PanoramaPlayListItem';case'Map':return'MapPlayListItem';case'Model3D':return'Model3DPlayListItem';case'PhotoAlbum':return'PhotoAlbumPlayListItem';case'Video':return'VideoPlayListItem';case'Video360':return'Video360PlayListItem';}}();if(ko!=undefined){var kp=this['getByClassName'](ko);for(var kq=kp['length']-0x1;kq>=0x0;--kq){var kr=kp[kq];if(kr['get']('media')!=km||kn!=undefined&&kr['get']('player')!=kn){kp['splice'](kq,0x1);}}return kp;}else{return[];}};TDV['Tour']['Script']['historyGoBack']=function(ks){var kt=this['get']('data')['history'][ks['get']('id')];if(kt!=undefined){kt['back']();}};TDV['Tour']['Script']['historyGoForward']=function(ku){var kv=this['get']('data')['history'][ku['get']('id')];if(kv!=undefined){kv['forward']();}};TDV['Tour']['Script']['init']=function(){var kw=this['get']('data')['history'];var kx=function(kG){var kH=kG['source'];var kI=kH['get']('selectedIndex');if(kI<0x0)return;var kJ=kH['get']('id');if(!kw['hasOwnProperty'](kJ))kw[kJ]=new TDV['Tour']['HistoryData'](kH);kw[kJ]['add'](kI);};var ky=this['getByClassName']('PlayList');for(var kA=0x0,kB=ky['length'];kA<kB;++kA){var kC=ky[kA];kC['bind']('change',kx,this);}if(this['getMainViewer']()['get']('translationTransitionEnabled')){var kD=this['getByClassName']('ThumbnailList');kD=kD['concat'](this['getByClassName']('ThumbnailGrid'));kD=kD['concat'](this['getByClassName']('DropDown'));function kK(kL){var kM=kL['source']['get']('playList');var kN=kM['get']('selectedIndex');if(kN>=0x0){this['skip3DTransitionOnce'](kM['get']('items')[kN]['get']('player'));}}for(var kA=0x0,kE=kD['length'];kA<kE;++kA){var kF=kD[kA];kF['bind']('change',kK,this);}}_initModels['call'](this);};TDV['Tour']['Script']['sendAnalyticsData']=function(kO,kP,kQ){if(window['dataLayer']){window['dataLayer']['push']({'event':kP,'label':kQ,'category':kO});}if(!this['get']('data')['tour']['player']['cookiesEnabled'])return;if(window['ga']){window['ga']('send','event',kO,kP,kQ);}if(window['gtag']){window['gtag']('event',kP,{'category':kO,'label':kQ});}};TDV['Tour']['Script']['initAnalytics']=function(){var kS=this['getByClassName']('Panorama');kS=kS['concat'](this['getByClassName']('Video360'));kS=kS['concat'](this['getByClassName']('Map'));kS=kS['concat'](this['getByClassName']('Model3D'));for(var kV=0x0,kY=kS['length'];kV<kY;++kV){var kZ=kS[kV];var l1=kZ['get']('data');var l2=l1?l1['label']:'';var l3=this['getOverlays'](kZ);for(var l4=0x0,l5=l3['length'];l4<l5;++l4){var l6=l3[l4];var l7=l6['get']('data')!=undefined?l2+'\x20-\x20'+l6['get']('data')['label']:l2;switch(l6['get']('class')){case'FlatHotspotPanoramaOverlay':case'HotspotPanoramaOverlay':case'HotspotMapOverlay':case'AreaHotspotMapOverlay':var l8=l6['get']('areas');for(var l9=0x0;l9<l8['length'];++l9){l8[l9]['bind']('click',this['sendAnalyticsData']['bind'](this,'Hotspot','click',l7),this,![]);}break;case'CeilingCapPanoramaOverlay':case'TripodCapPanoramaOverlay':l6['bind']('click',this['sendAnalyticsData']['bind'](this,'Cap','click',l7),this,![]);break;case'QuadVideoPanoramaOverlay':case'VideoPanoramaOverlay':l6['bind']('click',this['sendAnalyticsData']['bind'](this,'Hotspot','click',l7),this,![]);l6['bind']('start',this['sendAnalyticsData']['bind'](this,'Hotspot','start',l7),this,![]);break;case'QuadFramePanoramaOverlay':case'FramePanoramaOverlay':case'SpriteModel3DObject':l6['bind']('click',this['sendAnalyticsData']['bind'](this,'Hotspot','click',l7),this,![]);break;}}}var la=this['getByClassName']('UIComponent');for(var kV=0x0,kY=la['length'];kV<kY;++kV){var lb=la[kV];var lc=lb['getBindings']('click');if(lc['length']>0x0){var ld=lb['get']('data')['name'];lb['bind']('click',this['sendAnalyticsData']['bind'](this,'Skin','click',ld),this,![]);}}var le=this['mainPlayList']['get']('items')['concat'](this['getByClassName']('PlayListItem'));var lf={};for(var kV=0x0,kY=le['length'];kV<kY;++kV){var lg=le[kV];var kS=lg['get']('media');if(!(kS['get']('id')in lf)){var l1=kS['get']('data');lg['bind']('begin',this['sendAnalyticsData']['bind'](this,'Media','play',l1?l1['label']:undefined),this,![]);lf[kS['get']('id')]=lg;}}if(TDV['Remote']!=undefined){var lh=undefined;TDV['Remote']['bind'](TDV['Remote']['EVENT_CALL_BEGIN'],function(li){lh=Date['now']();this['sendAnalyticsData']('Live\x20Guided\x20Tour','Start\x20Call','Guest:\x20'+li);}['bind'](this));TDV['Remote']['bind'](TDV['Remote']['EVENT_CALL_END'],function(lj){var lk=new Date();lk['setTime'](Date['now']()-lh);this['sendAnalyticsData']('Live\x20Guided\x20Tour','End\x20Call','Guest:\x20'+lj+'\x20Duration:\x20'+lk['toUTCString']()['split']('\x20')[0x4]);}['bind'](this));}};TDV['Tour']['Script']['initQuiz']=function(ll,lm,ln){var lo={"question":{"window":{"title":{"paddingLeft":50,"paddingTop":25,"fontFamily":"Arial","fontWeight":"bold","fontSize":20,"paddingBottom":40,"textAlign":"center","fontColor":"#000000","paddingRight":50},"mediaContainer":{"buttonNext":{"height":37,"width":25,"iconURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAlCAMAAACAj7KHAAAAA3NCSVQICAjb4U/gAAAAS1BMVEX///8AAAAAAAAAAAAAAACVlZWLi4uDg4MAAAC8vLx8fHx5eXl2dnZ0dHRxcXHDw8PAwMBra2tjY2PY2NiLi4v7+/v5+fn////7+/sWSBTRAAAAGXRSTlMAESIzRFVVVVVmZmZmZmZ3d3d3mZnu7v//nfgMagAAAAlwSFlzAAAK6wAACusBgosNWgAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAAWdEVYdENyZWF0aW9uIFRpbWUAMDYvMjkvMTUTtAt+AAAAjElEQVQokbXTyRaAIAgFUJHmeTL7/y9Naie+Toti2T0R4suYH4qI0HNKGpGV0iYwuoLFlEzeu0YT2dqH2jtFZHN3UR9T6FamKQi3O6Q+STL2O4r6WR4QcTZfdIQjR6NzttxUaKk2Eb/qdql34HfgbPA8eAdwb3jXD/eD7xTnAGcH5g1n9CHXBv8Ln9UJhXMPrAhUbYMAAAAASUVORK5CYII="},"viewerArea":{"playbackBarBackgroundOpacity":0.5,"playbackBarBorderRadius":0,"playbackBarProgressBackgroundColor":"#3399ff","backgroundOpacity":1,"playbackBarHeadShadow":true,"backgroundColor":"#e6e6e6","playbackBarHeadShadowOpacity":0.3,"playbackBarHeadShadowHorizontalLength":0,"playbackBarBackgroundColor":"#000000","playbackBarHeadOpacity":1,"playbackBarProgressOpacity":0.5,"playbackBarBottom":5,"playbackBarRight":0,"playbackBarHeadShadowColor":"#000000","playbackBarHeadBackgroundColor":"#cccccc","playbackBarHeadShadowBlurRadius":2,"playbackBarHeadBorderColor":"#ffffff","playbackBarLeft":0,"playbackBarHeadBorderRadius":7,"playbackBarHeight":6,"playbackBarHeadHeight":14,"playbackBarHeadBorderSize":3,"playbackBarBorderSize":0,"playbackBarHeadWidth":14,"playbackBarHeadShadowVerticalLength":0,"playbackBarHeadShadowSpread":2},"height":"100%","buttonPrevious":{"height":37,"width":25,"iconURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAlCAMAAACAj7KHAAAAA3NCSVQICAjb4U/gAAAAS1BMVEX///8AAAAAAAAAAAAAAACVlZWLi4uDg4MAAAC8vLx8fHx5eXl2dnZ0dHRxcXHDw8PAwMBra2tjY2PY2NiLi4v7+/v5+fn////7+/sWSBTRAAAAGXRSTlMAESIzRFVVVVVmZmZmZmZ3d3d3mZnu7v//nfgMagAAAAlwSFlzAAAK6wAACusBgosNWgAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAAWdEVYdENyZWF0aW9uIFRpbWUAMDYvMjkvMTUTtAt+AAAAkElEQVQokbXSyRaDIAwFUALOQ7W2iP//pQK6CGheF55mmXuYwlPqn0VEUp/uzPd0qAuFvqnsdKEInXVuziTCsDpfraYcxgi25MKh5rsxWHvDhMMIIJWf8EpAeei2CO/CJK8kXR2w5ED6E8B9m0zkNegc8W7ye8AM5LmBWYP/AX8KcgCyA/IGMqrkXJ92239aO3W4D6yL2ECSAAAAAElFTkSuQmCC"},"width":"70%"},"borderRadius":5,"backgroundColor":"#ffffff","shadowColor":"#000000","width":"60%","paddingLeft":20,"shadowVerticalLength":0,"height":"60%","shadowHorizontalLength":0,"paddingTop":20,"paddingBottom":20,"paddingRight":20,"minWidth":500,"horizontalAlign":"center","optionsContainer":{"overflow":"scroll","height":"100%","contentOpaque":true,"gap":10,"width":"30%"},"bodyContainer":{"paddingLeft":30,"height":"100%","gap":35,"paddingBottom":30,"layout":"horizontal","width":"100%","paddingRight":30},"shadow":true,"shadowOpacity":0.3,"shadowSpread":4,"closeButton":{"height":45,"width":45,"backgroundColor":"#009FE3","iconColor":"#FFFFFF","iconHeight":18,"iconLineWidth":2,"iconWidth":18},"buttonsContainer":{"verticalAlign":"bottom","horizontalAlign":"right","button":{"horizontalAlign":"center","borderRadius":3,"fontFamily":"Arial","fontWeight":"bold","backgroundOpacity":0.7,"fontSize":18,"verticalAlign":"middle","paddingLeft":25,"paddingTop":10,"backgroundColor":"#000000","paddingBottom":10,"fontColor":"#ffffff","paddingRight":25}},"shadowBlurRadius":4,"option":{"gap":10,"label":{"horizontalAlign":"center","borderRadius":19,"fontFamily":"Arial","fontWeight":"bold","correct":{"horizontalAlign":"center","borderRadius":19,"fontFamily":"Arial","fontWeight":"bold","width":38,"fontSize":18,"verticalAlign":"middle","pressedBackgroundOpacity":1,"height":38,"backgroundColor":"#39b54a","fontColor":"#ffffff","backgroundOpacity":1},"width":38,"fontSize":18,"verticalAlign":"middle","pressedBackgroundOpacity":1,"height":38,"incorrect":{"horizontalAlign":"center","borderRadius":19,"fontFamily":"Arial","fontWeight":"bold","width":38,"fontSize":18,"verticalAlign":"middle","pressedBackgroundOpacity":1,"height":38,"backgroundColor":"#ed1c24","fontColor":"#ffffff","backgroundOpacity":1},"backgroundColor":"#000000","fontColor":"#ffffff","backgroundOpacity":0.2},"text":{"selected":{"paddingTop":9,"textAlign":"left","fontFamily":"Arial","fontColor":"#000000","fontSize":18},"paddingTop":9,"fontFamily":"Arial","fontSize":18,"textAlign":"left","fontColor":"#404040","verticalAlign":"middle"}},"backgroundOpacity":1},"veil":{"backgroundColor":"#000000","backgroundOpacity":0.3}},"timeout":{"window":{"buttonsContainer":{"horizontalAlign":"center","gap":10,"width":"100%"},"horizontalAlign":"center","gap":15,"backgroundColor":"#ffffff","button":{"paddingLeft":25,"paddingTop":12,"horizontalAlign":"center","fontFamily":"Arial","fontSize":15,"backgroundColor":"#009fe3","paddingRight":25,"paddingBottom":12,"verticalAlign":"middle","fontWeight":"bold","fontColor":"#ffffff"},"shadowColor":"#000000","shadow":true,"shadowOpacity":0.3,"shadowVerticalLength":0,"shadowSpread":4,"paddingLeft":80,"paddingTop":45,"shadowHorizontalLength":0,"title":{"fontFamily":"Arial","fontWeight":"bold","fontSize":40,"paddingBottom":20,"textAlign":"center","fontColor":"#000000"},"shadowBlurRadius":4,"paddingBottom":55,"icon":{"height":72,"url":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAD0AAABGCAYAAAB/h5zrAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAABhRJREFUeNrsW41y2jgQliVjGxMuhDR37/92l2uvhVIcjGtzuLO6aBRpdyVb9G4azWiABKH99n9XcibSj9V13geu6a7z7+scUhAkbwB6GbFmAVP8X0H/58Y76HfQ76DfQYeOLmLNGKq+pyIouxFzS3jNkZg9MucrvB8B96mIyW8EumV858L8XlLQC5DKqGqHSDX9WeMe6G+BdpZ6jwseDZsfIC0MBa6M7KqEzwr5/hlUu4P3MYzeXGdtfG6uc0eBtgGLQOAjqAo2nppKjnuejBkK2Ak8YwI2ifgTcVYrAJxi9ED80VOIrGH6xr/A8wDAvhBXwmZFYjtVsM8KgB8cAsOG1oCdCgCsw0pjMOAeprqhk8qA0bUV2jKGlo04lQLin5iJioJNxu9+uIF0qcSqhtcugPmLDNA//UppaA5c6lIW7RB+WtjHlYQooCUHOqqUKXJmqMrjzMA7cDinyLZPCV2XembMu8yykTmAn8GztjPa7grmVOmPIavJHBvontYooW0AEwYoGJqEIesh0HnuwPEWgKcTDm93MWz8An+rmNL9BK+pxgUYOjBp6g3QZ9PEFMHZLaP8HAn5bDApRHJ5hL13ILUlQZs0BPJmY994ZJSee1cVwxg1xPkV0HAKXD+Az6CAly5HKhGiCoaEj4wMSCIpofB4ZwkES0LinAOBe66kt8SGI/e+EJs9Qa5cA4FmJ6QytGgk+ptF0++gBePaF8R0BvjtmpFFdhjomviRnmHDo5TujFxAAvFmJ0UazsaU1p3hqDLY50zQY7akfBp3xDona0YYGBg2R33eIZHABQobB2DUApF2rcOpLekK1GqKHWtQujBpIX5zvXtvrD0ExP2OoF3q38oRB+PjKHc0ExKVmLW67PVhKLR9K4sTG4KQF8//1mCLF5GmXy3h97cgzbPHxHpC2j8cmrQ4gQ2fWq8AdAVEqZnBrsGbr+GzEnjvHOvhLW31LikOIZ7aLlf7GcDGFhlHRGMLG3RBxGVM7Ssmp+cAO0Am6BtUdVfmzMZaSzDk2WhIxNTOykhkqMLmM7FHTzRF8pyRgwtG9dQHqPRoDr8ZRPVMP7BnhkvBBZ0TMXeuCy+1w94UA8Au0GwwASw4B3jfGeUhR60lSNjWjoJwSntPo0MKf+MfZRBH0lg+q3vl48Z/EcALq8b9hEhf5+StpxgqjAzyo6fhQBbaMb2nylrPabS7HGPjcIwfEedZMJ0vCTrGZvsQlbL+X3pSX453PgY4WFS9Y1LHBkq/JdTDFGidOkqQ1h8Om+bk23tDC3z5Q8YBHfudY0AY0d3SjeEElaNg4IxTgClFSVoazmrq0N1M+9zpGNlrw6KK18xyZqG+EPM17/UBuz48THGtA5P0kDOzmIoAvQHn1CIdkSlZnB3ajkj+LQnQZ8n0hBVBTG20ZGqRZtRWORtD649wKZlFhUK4l4V4zgljQHpu3O5PZyclVMzzcffFsMsO6a5MHQfwBWfEhBSR1jYuqWwJ9XgWCW/yzTA2hKSf7R6ZzlmXRPjiHsHovtYCGBVy1lVBcZJDOOWsXQi8x3fWOUXuCCdYfatPHDjhyzzrLiG95MbYrQFeMSMC9ZxII5BC48BQIcnkPOZR9QMtFZEBcrLGFWHLPQW6IexWWXUxp9vSeACvxNsOamslLN8YzKWkfOCkaxfCoS0YHv8E9nhyaE9lVVqtxehGvF7j6Bg1fUaEqT0HdCdeL7BivS6sNWzeanDF9tqIuQeHs6Kcn76OQan/m1I1I36Uc6kOSwkphxXbQeXecDy4fBQmyYvg3e8ojIIkJCxdIkKZjiAPgnel80toCaYXSkEf+eTi9a5mqmcvJIC9Y6S6A/TgLjGgtZNRjH6U7qKUERUUJ8l5YPbE9L30XsS0VQJTPFfIakT8jcEF7LcU/MYl6yJ+aEUUCtwMX/oRBd+TOKVRMJQi/PST/chFTBlI3aD/GaOD0MQyqZiz5DPMStzuuS4qZO5CTCib6GA2It0zG5x2016EX7ybRVK3eobDtF3deo7q0M6pnqnBTwabsp+lxOsFODUDUDP0zTJSOyIFGqCfwssFfd+zN8Jbkmcv/xFgALaVsLLFsFFBAAAAAElFTkSuQmCC","width":62},"paddingRight":80},"veil":{"backgroundColor":"#000000","backgroundOpacity":0.3}},"score":{"window":{"title":{"paddingTop":50,"fontFamily":"Arial","fontWeight":"bold","fontSize":50,"paddingBottom":15,"textAlign":"center","fontColor":"#000000"},"minWidth":500,"horizontalAlign":"center","calification":{"paddingLeft":100,"paddingTop":15,"fontFamily":"Arial","fontWeight":"bold","fontSize":30,"verticalAlign":"middle","paddingBottom":10,"textAlign":"center","width":"100%","fontColor":"#009fe3","paddingRight":100},"backgroundColor":"#ffffff","statsContainer":{"paddingLeft":100,"paddingTop":15,"horizontalAlign":"center","gap":20,"verticalAlign":"middle","overflow":"scroll","contentOpaque":true,"paddingBottom":15,"paddingRight":100},"stats":{"borderColor":"#009fe3","minWidth":150,"horizontalAlign":"center","borderRadius":75,"gap":0,"mainValue":{"fontWeight":"bold","fontFamily":"Arial","fontColor":"#000000","fontSize":40},"label":{"fontWeight":"normal","fontFamily":"Arial","fontColor":"#000000","fontSize":15},"secondaryValue":{"paddingLeft":5,"fontWeight":"bold","fontFamily":"Arial","fontColor":"#000000","fontSize":20},"verticalAlign":"middle","borderSize":1,"layout":"vertical","title":{"paddingLeft":5,"paddingTop":10,"fontFamily":"Arial","fontWeight":"normal","fontSize":20,"fontColor":"#000000","paddingRight":5},"height":150},"shadowColor":"#000000","shadow":true,"shadowOpacity":0.3,"shadowVerticalLength":0,"maxWidth":1500,"shadowSpread":4,"paddingLeft":20,"paddingTop":20,"shadowHorizontalLength":0,"content":{"width":"100%","horizontalAlign":"center"},"closeButton":{"height":45,"width":45,"backgroundColor":"#009fe3","iconColor":"#ffffff","iconHeight":18,"iconLineWidth":2,"iconWidth":18},"shadowBlurRadius":4,"paddingBottom":20,"timeContainer":{"paddingLeft":100,"paddingTop":10,"horizontalAlign":"center","gap":5,"verticalAlign":"middle","paddingBottom":15,"width":"100%","paddingRight":100},"buttonsContainer":{"paddingLeft":100,"paddingTop":35,"horizontalAlign":"center","gap":8,"verticalAlign":"middle","button":{"paddingLeft":25,"paddingTop":12,"horizontalAlign":"center","fontFamily":"Arial","fontSize":15,"backgroundColor":"#009fe3","paddingRight":25,"paddingBottom":12,"verticalAlign":"middle","fontWeight":"bold","fontColor":"#ffffff"},"paddingBottom":50,"width":"100%","paddingRight":100},"description":{"paddingLeft":100,"paddingTop":15,"fontFamily":"Arial","fontWeight":"normal","fontSize":16,"paddingBottom":15,"textAlign":"center","fontColor":"#000000","paddingRight":100},"paddingRight":20},"veil":{"backgroundColor":"#000000","backgroundOpacity":0.3}}};var lp=this['get']('data');var lq=lp['createQuizConfig']['call'](this);lB['call'](this,lq);lq['playList']=ll;lq['player']=this;lq['theme']='theme'in lq?this['mixObject'](lo,lq['theme']):lo;if(lq['questions']){lA['call'](this,lq['questions']);for(var lr=0x0;lr<lq['questions']['length'];++lr){var ls=lq['questions'][lr];lA['call'](this,ls['options']);}}if(lq['objectives']){lA['call'](this,lq['objectives']);}if(lq['califications']){lA['call'](this,lq['califications']);}if(lq['score']){this[lq['score']['id']]=lq['score'];}if(lq['question']){this[lq['question']['id']]=lq['question'];}if(lq['timeout']){this[lq['timeout']['id']]=lq['timeout'];}var lt=lq['data']&&lq['data']['titlesScale']?lq['data']['titlesScale']:0x1;var lu=lq['data']&&lq['data']['bodyScale']?lq['data']['bodyScale']:0x1;if(this['get']('isMobile')){var lv=this['mixObject'](lq['theme'],{'question':{'window':{'width':'100%','height':'100%','minWidth':undefined,'backgroundOpacity':0x1,'borderRadius':0x0,'paddingLeft':0x0,'paddingRight':0x0,'paddingBottom':0x0,'paddingTop':0x0,'verticalAlign':'middle','title':{'paddingBottom':0x19,'paddingTop':0x19},'bodyContainer':{'layout':'vertical','horizontalAlign':'center','paddingLeft':0x0,'paddingRight':0x0,'gap':0x14},'mediaContainer':{'width':'100%','height':'45%'},'optionsContainer':{'width':'100%','height':'55%','paddingLeft':0x14,'paddingRight':0x14}}},'score':{'window':{'description':{'paddingLeft':0xa,'paddingRight':0xa},'calification':{'fontSize':0x14*lu,'paddingLeft':0xa,'paddingRight':0xa}}}});lq['theme']=lv;}var lw=document['getElementById']('metaViewport');var lx=lw?/initial-scale=(\d+(\.\d+)?)/['exec'](lw['getAttribute']('content')):undefined;var ly=lx?lx[0x1]:0x1;lp['scorePortraitConfig']={'theme':{'window':{'minWidth':0xfa/ly,'maxHeight':0x258/ly,'content':{'height':'100%'},'statsContainer':{'layout':'vertical','horizontalAlign':'center','maxHeight':0x258,'paddingLeft':0x0,'paddingRight':0x0,'width':'100%','height':'100%'},'buttonsContainer':{'paddingLeft':0xa,'paddingRight':0xa,'button':{'paddingLeft':0xf,'paddingRight':0xf}}}}};lp['scoreLandscapeConfig']={'theme':{'window':{'title':{'fontSize':0x1e*lt,'paddingTop':0xa},'stats':{'height':0x64},'buttonsContainer':{'paddingBottom':0x14,'paddingTop':0xa},'description':{'paddingBottom':0x5,'paddingTop':0x5}}}};var lz=new TDV['Quiz'](lq);lz['setMaxListeners'](0x32);if(ln===!![]){lz['bind'](TDV['Quiz']['EVENT_PROPERTIES_CHANGE'],function(){if((lz['get'](TDV['Quiz']['PROPERTY']['QUESTIONS_ANSWERED'])+lz['get'](TDV['Quiz']['PROPERTY']['ITEMS_FOUND']))/(lz['get'](TDV['Quiz']['PROPERTY']['QUESTION_COUNT'])+lz['get'](TDV['Quiz']['PROPERTY']['ITEM_COUNT']))==0x1)setTimeout(function(){lz['finish']();},0x0);}['bind'](this));}if(lm===!![]){lz['start']();}lp['quiz']=lz;lp['quizConfig']=lq;function lA(lC){for(var lD=0x0;lD<lC['length'];++lD){var lE=lC[lD];if('id'in lE)this[lE['id']]=lE;}}function lB(lF){for(var lG in lF){var lH=lF[lG];if(typeof lH=='object'&&lH!==null)lB['call'](this,lH);else if(typeof lH=='string'&&lH['startsWith']('this.'))lF[lG]=_getObject(this,lH);}}};TDV['Tour']['Script']['getQuizTotalObjectiveProperty']=function(lI){var lJ=this['get']('data')['quiz'];var lK=this['get']('data')['quizConfig'];var lL=lK['objectives'];var lM=0x0;for(var lN=0x0,lO=lL['length'];lN<lO;++lN){var lP=lL[lN];lM+=lJ['getObjective'](lP['id'],lI);}return lM;};TDV['Tour']['Script']['_initSplitViewer']=function(lQ){function lR(){var mc=lQ['get']('actualWidth');m2['get']('children')[0x0]['set']('width',mc);m3['get']('children')[0x0]['set']('width',mc);var md=m6['get']('left');var me=typeof md=='string'?lS(md):md;me+=m6['get']('actualWidth')*0.5;m2['set']('width',lT(me));m3['set']('width',lT(mc-me));}function lS(mf){return parseFloat(mf['replace']('%',''))/0x64*lQ['get']('actualWidth');}function lT(mg){return mg/lQ['get']('actualWidth')*0x64+'%';}function lU(mh){lV(mh['source']);}function lV(mi){var mj=mi==m8?m7:m8;if(m9&&mi!=m9||!mi||!mj)return;var mk=mj['get']('camera')['get']('initialPosition')['get']('yaw')-mi['get']('camera')['get']('initialPosition')['get']('yaw');mj['setPosition'](mi['get']('yaw')+mk,mi['get']('pitch'),mi['get']('roll'),mi['get']('hfov'));}function lW(ml){m9=ml['source'];}function lX(mm){lY(mm['source']);}function lY(mn){var mo=mn['get']('viewerArea');if(mo==m4){if(m7){m7['get']('camera')['set']('hoverFactor',ma);}m7=mn;m9=m7;if(m7){ma=m7['get']('camera')['get']('hoverFactor');m7['get']('camera')['set']('hoverFactor',0x0);}}else if(mo==m5){if(m8){m8['get']('camera')['set']('hoverFactor',mb);}m8=mn;m9=m7;if(m8){mb=m8['get']('camera')['get']('hoverFactor');m8['get']('camera')['set']('hoverFactor',0x0);}}lV(mn);}function lZ(mp){var mq=this['getCurrentPlayers']();var mr=mq['length'];while(mr-->0x0){var mt=mq[mr];if(mt['get']('viewerArea')!=mp){mq['splice'](mr,0x1);}}for(mr=0x0;mr<mq['length'];++mr){var mt=mq[mr];mt['bind']('preloadMediaShow',lX,this);mt['bind']('cameraPositionChange',lU,this);mt['bind']('userInteractionStart',lW,this);if(mt['get']('panorama'))lY(mt);}return mq;}function m0(mu){lY(this['getActivePlayerWithViewer'](mu['source']));lV(m9);}var m1=lQ['get']('children');var m2=m1[0x0];var m3=m1[0x1];var m4=m2['get']('children')[0x0];var m5=m3['get']('children')[0x0];var m6=m1[0x2];var m7,m8,m9;var ma,mb;lZ['call'](this,m4);lZ['call'](this,m5);m4['bind']('mouseDown',m0,this);m5['bind']('mouseDown',m0,this);lQ['bind']('resize',function(){m6['set']('left',(lQ['get']('actualWidth')-m6['get']('actualWidth'))*0.5);lR();},this);m6['bind']('mouseDown',function(mv){var mw=mv['pageX'];var mx=function(my){var mz=my['pageX'];var mA=mw-mz;var mB=lQ['get']('actualWidth');var mC=m6['get']('left');var mD=(typeof mC=='string'?lS(mC):mC)-mA;if(mD<0x0){mz-=mD;mD=0x0;}else if(mD+m6['get']('actualWidth')>=mB){mz-=mD-(mB-m6['get']('actualWidth'));mD=mB-m6['get']('actualWidth');}m6['set']('left',mD);lR();mw=mz;};this['bind']('mouseMove',mx,this);this['bind']('mouseUp',function(){this['unbind']('mouseMove',mx,this);},this);},this);lR();};TDV['Tour']['Script']['_initTwinsViewer']=function(mE){function mF(){var n0=mE['get']('actualWidth');mQ['get']('children')[0x0]['set']('width',n0);mR['get']('children')[0x0]['set']('width',n0);var n1=mU['get']('left');var n2=typeof n1=='string'?mG(n1):n1;n2+=mU['get']('actualWidth')*0.5;mQ['set']('width',mH(n2));mR['set']('width',mH(n0-n2));}function mG(n3){return parseFloat(n3['replace']('%',''))/0x64*mE['get']('actualWidth');}function mH(n4){return n4/mE['get']('actualWidth')*0x64+'%';}function mI(n5){mJ(n5['source']);}function mJ(n6){var n7=n6==mW?mV:mW;if(mX&&n6!=mX||!n6||!n7)return;var n8=n7['get']('camera')['get']('initialPosition')['get']('yaw')-n6['get']('camera')['get']('initialPosition')['get']('yaw');n7['setPosition'](n6['get']('yaw')+n8,n6['get']('pitch'),n6['get']('roll'),n6['get']('hfov'));}function mK(n9){mX=n9['source'];}function mL(na){mM(na['source']);}function mM(nb){var nc=nb['get']('viewerArea');if(nc==mS){if(mV){mV['get']('camera')['set']('hoverFactor',mY);}mV=nb;mX=mV;if(mV){mY=mV['get']('camera')['get']('hoverFactor');mV['get']('camera')['set']('hoverFactor',0x0);}}else if(nc==mT){if(mW){mW['get']('camera')['set']('hoverFactor',mZ);}mW=nb;mX=mV;if(mW){mZ=mW['get']('camera')['get']('hoverFactor');mW['get']('camera')['set']('hoverFactor',0x0);}}mJ(nb);}function mN(nd){var ne=this['getCurrentPlayers']();var nf=ne['length'];while(nf-->0x0){var nh=ne[nf];if(nh['get']('viewerArea')!=nd){ne['splice'](nf,0x1);}}for(nf=0x0;nf<ne['length'];++nf){var nh=ne[nf];nh['bind']('preloadMediaShow',mL,this);nh['bind']('cameraPositionChange',mI,this);nh['bind']('userInteractionStart',mK,this);if(nh['get']('panorama'))mM(nh);}return ne;}function mO(ni){mM(this['getActivePlayerWithViewer'](ni['source']));mJ(mX);}var mP=mE['get']('children');var mQ=mP[0x0];var mR=mP[0x1];var mS=mQ['get']('children')[0x0];var mT=mR['get']('children')[0x0];var mU=mP[0x2];var mV,mW,mX;var mY,mZ;mN['call'](this,mS);mN['call'](this,mT);mS['bind']('mouseDown',mO,this);mT['bind']('mouseDown',mO,this);mE['bind']('resize',function(){mU['set']('left',(mE['get']('actualWidth')-mU['get']('actualWidth'))*0.5);mF();},this);mF();};TDV['Tour']['Script']['isCardboardViewMode']=function(){var nj=this['getByClassName']('PanoramaPlayer');return nj['length']>0x0&&nj[0x0]['get']('viewMode')=='cardboard';};TDV['Tour']['Script']['isPanorama']=function(nk){return['Panorama','HDRPanorama','LivePanorama','Video360','VideoPanorama']['indexOf'](nk['get']('class'))!=-0x1;};TDV['Tour']['Script']['keepCompVisible']=function(nl,nm){var nn='keepVisibility_'+nl['get']('id');var no=this['getKey'](nn);if(no==undefined&&nm){this['registerKey'](nn,nm);}else if(no!=undefined&&!nm){this['unregisterKey'](nn);}};TDV['Tour']['Script']['_initItemWithComps']=function(np,nq,nr,ns,nt,nu,nv,nw){var nx=np['get']('items')[nq];var ny=nx['get']('media');var nz=ny['get']('loop')==undefined||ny['get']('loop');var nA=nw>0x0;var nB=this['rootPlayer'];var nC=function(nK){var nL=nu?nu['get']('class'):undefined;var nM=undefined;switch(nL){case'FadeInEffect':case'FadeOutEffect':nM=nB['createInstance'](nK?'FadeInEffect':'FadeOutEffect');break;case'SlideInEffect':case'SlideOutEffect':nM=nB['createInstance'](nK?'SlideInEffect':'SlideOutEffect');break;}if(nM){nM['set']('duration',nu['get']('duration'));nM['set']('easing',nu['get']('easing'));if(nL['indexOf']('Slide')!=-0x1)nM['set'](nK?'from':'to',nu['get'](nu['get']('class')=='SlideInEffect'?'from':'to'));}return nM;};var nD=function(){for(var nN=0x0,nO=nr['length'];nN<nO;++nN){var nP=nr[nN];if(nw>0x0){this['setComponentVisibility'](nP,!nt,0x0,nC(!nt));}else{var nQ='visibility_'+nP['get']('id');if(this['existsKey'](nQ)){if(this['getKey'](nQ))this['setComponentVisibility'](nP,!![],0x0,nC(!![]));else this['setComponentVisibility'](nP,![],0x0,nC(![]));this['unregisterKey'](nQ);}}}nx['unbind']('end',nD,this);if(!nz)ny['unbind']('end',nD,this);};var nE=function(){nx['unbind']('stop',nE,this,!![]);nx['unbind']('stop',nE,this);nx['unbind']('begin',nE,this,!![]);nx['unbind']('begin',nE,this);for(var nR=0x0,nS=nr['length'];nR<nS;++nR){this['keepCompVisible'](nr[nR],![]);}};var nF=function(nT,nU,nV){var nW=function(){var nX=function(o1,o2,o3){nB['setComponentVisibility'](o1,o2,nU,o3,o2?'showEffect':'hideEffect',![]);if(nV>0x0){var o4=nU+nV+(o3!=undefined?o3['get']('duration'):0x0);nB['setComponentVisibility'](o1,!o2,o4,nC(!o2),o2?'hideEffect':'showEffect',!![]);}};for(var nY=0x0,nZ=nr['length'];nY<nZ;++nY){var o0=nr[nY];if(nt=='toggle'){if(!o0['get']('visible'))nX(o0,!![],nC(!![]));else nX(o0,![],nC(![]));}else{nX(o0,nt,nC(nt));}}nx['unbind'](nT,nW,this);if(nT=='end'&&!nz)ny['unbind'](nT,nW,this);};nx['bind'](nT,nW,this);if(nT=='end'&&!nz)ny['bind'](nT,nW,this);};if(ns=='begin'){for(var nG=0x0,nH=nr['length'];nG<nH;++nG){var nI=nr[nG];this['keepCompVisible'](nI,!![]);if(nA){var nJ='visibility_'+nI['get']('id');this['registerKey'](nJ,nI['get']('visible'));}}nx['bind']('stop',nE,this,!![]);nx['bind']('stop',nE,this);nx['bind']('begin',nE,this,!![]);nx['bind']('begin',nE,this);if(nA){nx['bind']('end',nD,this);if(!nz)ny['bind']('end',nD,this);}}else if(ns=='end'&&nw>0x0){nF('begin',nw,0x0);nw=0x0;}if(ns!=undefined)nF(ns,nv,nw);};TDV['Tour']['Script']['loadFromCurrentMediaPlayList']=function(o5,o6,o7){var o8=o5['get']('selectedIndex');var o9=o5['get']('items')['length'];var oa=(o8+o6)%o9;while(oa<0x0){oa=o9+oa;}if(o8!=oa){if(o7){var ob=o5['get']('items')[oa];this['skip3DTransitionOnce'](ob['get']('player'));}o5['set']('selectedIndex',oa);}};TDV['Tour']['Script']['mixObject']=function(oc,od){return this['assignObjRecursively'](od,this['copyObjRecursively'](oc));};TDV['Tour']['Script']['downloadFile']=function(oe){if((navigator['userAgent']['toLowerCase']()['indexOf']('chrome')>-0x1||navigator['userAgent']['toLowerCase']()['indexOf']('safari')>-0x1)&&!/(iP)/g['test'](navigator['userAgent'])){var of=document['createElement']('a');of['href']=oe;of['setAttribute']('target','_blank');if(of['download']!==undefined){var og=oe['substring'](oe['lastIndexOf']('/')+0x1,oe['length']);of['download']=og;}if(document['createEvent']){var oh=document['createEvent']('MouseEvents');oh['initEvent']('click',!![],!![]);of['dispatchEvent'](oh);return;}}window['open'](oe,'_blank');};TDV['Tour']['Script']['openLink']=function(oi,oj){if(!oi||oi==location['href']){return;}if(!oj)oj='_blank';if(oj=='_top'||oj=='_self'){this['updateDeepLink']({'includeCurrentView':!![],'includeCurrentVisibleHotspots':!![],'includeCurrentMeasureModel3DObjects':!![],'setHash':!![]});}var ok=window&&window['process']&&window['process']['versions']&&window['process']['versions']['electron']||navigator&&navigator['userAgent']&&navigator['userAgent']['indexOf']('Electron')>=0x0;if(ok&&oj=='_blank'){if(oi['startsWith']('files/')){oi='/'+oi;}if(oi['startsWith']('//')){oi='https:'+oi;}else if(oi['startsWith']('/')){var ol=window['location']['href']['split']('/');ol['pop']();oi=ol['join']('/')+oi;}var om=oi['split']('.')['pop']()['toLowerCase']();if((['pdf','zip','xls','xlsx']['indexOf'](om)==-0x1||oi['startsWith']('file://'))&&window['hasOwnProperty']('require')){var on=window['require']('electron')['shell'];on['openExternal'](oi);}else{window['open'](oi,oj);}}else if(ok&&(oj=='_top'||oj=='_self')){window['location']=oi;}else{var oo=this['get']('data')['tour'];if(oo['isMobileApp']()&&oo['isIOS']())oi='blank:'+oi;var op=window['open'](oi,oj);op['focus']();}};TDV['Tour']['Script']['startPanoramaWithModel']=function(oq,or){var os=oq['get']('media');var ot=_findLocationWithPanorama['call'](this,os);if(!ot){or['call'](this);return;}var ou=ot['get']('model');var ov=oq['get']('player')['get']('viewerArea');var ox=this['getActivePlayersWithViewer'](ov);var oz=ox['length']==0x1?ox['find'](function(oG){return this['getMediaFromPlayer'](oG)==ou;}['bind'](this)):undefined;if(oz){or['call'](this);}else{var ox=_getPlayersWithViewer['call'](this,ov);var oz=ox['find'](function(oH){return oH['get']('class')=='Model3DPlayer';});var oA,oB;if(!oz){oz=this['createInstance']('Model3DPlayer');oz['set']('viewerArea',ov);}else{var oC=this['getByClassName']('Model3DPlayListItem');oA=oC['find'](function(oI){return oI['get']('player')==oz;}['bind'](this));}if(!oA){oA=this['createInstance']('Model3DPlayListItem');oA['set']('player',oz);_initModel3DItem['call'](this,oA);}oA['set']('media',ou);var oD=ot['get']('forceModelLoading');ot['set']('forceModelLoading',!![]);var oE=function(){oA['unbind']('begin',oE,this);or['call'](this);};var oF=function(){oq['unbind']('begin',oF,this);ot['set']('forceModelLoading',oD);if(oB)this['disposeInstance'](oB);};oq['bind']('begin',oF,this);if(oA['get']('state')=='playing')oE['call'](this);else{oA['bind']('begin',oE,this);oB=this['createInstance']('PlayList');oB['set']('items',[oA]);oB['set']('selectedIndex',0x0);}}};TDV['Tour']['Script']['pauseCurrentPlayers']=function(oJ){var oK=this['getCurrentPlayers']();var oL=oK['length'];while(oL-->0x0){var oM=oK[oL];if(oM['get']('state')=='playing'||oM['get']('data')&&oM['get']('data')['playing']||oM['get']('viewerArea')&&oM['get']('viewerArea')['get']('id')==this['getMainViewer']()||oM['get']('camera')&&oM['get']('camera')['get']('idleSequence')&&oM['get']('camera')['get']('timeToIdle')>0x0&&oM['get']('state')=='playing'||oM['get']('class')=='Model3DPlayer'&&oM['get']('model')&&oM['get']('model')['get']('camera')['get']('state')=='playing'){var oN=this['getMediaFromPlayer'](oM);if(oJ&&oN&&oN['get']('class')!='Video360'&&'pauseCamera'in oM){oM['pauseCamera']();}else{oM['pause']();}}else{oK['splice'](oL,0x1);}}return oK;};TDV['Tour']['Script']['pauseGlobalAudiosWhilePlayItem']=function(oO,oP,oQ){var oR=function(){if(oO['get']('selectedIndex')!=oP){this['resumeGlobalAudios']();}};this['pauseGlobalAudios'](oQ,!![]);this['executeFunctionWhenChange'](oO,oP,oR,oR);};TDV['Tour']['Script']['pauseGlobalAudios']=function(oS,oT){this['stopTextToSpeech']();if(window['pausedAudiosLIFO']==undefined)window['pausedAudiosLIFO']=[];var oU=this['getByClassName']('VideoPanoramaOverlay');oU=oU['concat'](this['getByClassName']('QuadVideoPanoramaOverlay'));for(var oW=oU['length']-0x1;oW>=0x0;--oW){var oX=oU[oW];if(oX['get']('video')['get']('hasAudio')==![])oU['splice'](oW,0x1);}var oY=this['getByClassName']('Audio')['concat'](oU);var oZ={};if(window['currentGlobalAudios']!=undefined)oY=oY['concat'](Object['values'](window['currentGlobalAudios'])['map'](function(p3){if(!p3['allowResume'])oZ[p3['audio']['get']('id')]=p3['audio'];return p3['audio'];}));var p0=[];for(var oW=0x0,p1=oY['length'];oW<p1;++oW){var p2=oY[oW];if(p2&&p2['get']('state')=='playing'&&(oS==undefined||oS['indexOf'](p2)==-0x1)){if(p2['get']('id')in oZ){p2['stop']();}else{p2['pause']();p0['push'](p2);}}}if(oT||p0['length']>0x0)window['pausedAudiosLIFO']['push'](p0);return p0;};TDV['Tour']['Script']['resumeGlobalAudios']=function(){if(window['pausedAudiosLIFO']==undefined)return;if(window['resumeAudiosBlocked']){if(window['pausedAudiosLIFO']['length']>0x1){window['pausedAudiosLIFO'][window['pausedAudiosLIFO']['length']-0x2]=window['pausedAudiosLIFO'][window['pausedAudiosLIFO']['length']-0x2]['concat'](window['pausedAudiosLIFO'][window['pausedAudiosLIFO']['length']-0x1]);window['pausedAudiosLIFO']['splice'](window['pausedAudiosLIFO']['length']-0x1,0x1);}return;}var p4=window['pausedAudiosLIFO']['pop']();if(!p4)return;for(var p5=0x0,p6=p4['length'];p5<p6;++p5){var p7=p4[p5];if(p7['get']('state')=='paused')p7['play']();}};TDV['Tour']['Script']['pauseGlobalAudio']=function(p8){var p9=window['currentGlobalAudios'];if(p9){var pa=p9[p8['get']('id')];if(pa)p8=pa['audio'];}if(p8['get']('state')=='playing')p8['pause']();};TDV['Tour']['Script']['playAudioList']=function(pb,pc){if(pb['length']==0x0)return;if(pb['length']==0x1&&pc){var pd=pb[0x0];pd['set']('loop',!![]);this['playGlobalAudio'](pd,!![],null,!![]);}else{var pe=-0x1;var pf;var pg=this['playGlobalAudio'];var ph=function(){if(++pe>=pb['length']){if(!pc)return;pe=0x0;}pf=pb[pe];pg(pf,!![],ph,!![]);};ph();}};TDV['Tour']['Script']['playGlobalAudioWhilePlayActiveMedia']=function(pi,pj,pk,pl){var pm=this['getActiveMediaWithViewer'](this['getMainViewer']());var pn=this['getFirstPlayListWithMedia'](pm,!![]);var po=this['getPlayListItemByMedia'](pn,pm);var pp=pn['get']('items')['indexOf'](po);return this['playGlobalAudioWhilePlay'](pn,pp,pi,pj,pk,pl);};TDV['Tour']['Script']['playGlobalAudioWhilePlay']=function(pq,pr,ps,pt,pu,pv){var pw=function(pF){if(pF['data']['previousSelectedIndex']==pr){this['stopGlobalAudio'](ps);if(pA){var pG=pz['get']('media');var pH=pG['get']('audios');pH['splice'](pH['indexOf'](ps),0x1);pG['set']('audios',pH);}pq['unbind']('change',pw,this);if(pu)pu();}};var py=window['currentGlobalAudios'];if(py&&ps['get']('id')in py){ps=py[ps['get']('id')]['audio'];if(ps['get']('state')!='playing'){ps['play']();}return ps;}pq['bind']('change',pw,this);var pz=pq['get']('items')[pr];var pA=pz['get']('class')=='PanoramaPlayListItem';if(pA){var pB=pz['get']('media');var py=(pB['get']('audios')||[])['slice']();if(ps['get']('class')=='MediaAudio'){var pC=this['rootPlayer']['createInstance']('PanoramaAudio');pC['set']('autoplay',![]);pC['set']('audio',ps['get']('audio'));pC['set']('loop',ps['get']('loop'));pC['set']('id',ps['get']('id'));this['cloneBindings'](ps,pC,'start');this['cloneBindings'](ps,pC,'end');this['cloneBindings'](ps,pC,'stateChange');ps=pC;}py['push'](ps);pB['set']('audios',py);}var pD=this['playGlobalAudio'](ps,pt,function(){pq['unbind']('change',pw,this);if(pu)pu['call'](this);});if(pv===!![]){var pE=function(){if(pD['get']('state')=='playing'){this['pauseGlobalAudios']([pD],!![]);}else if(pD['get']('state')=='stopped'){this['resumeGlobalAudios']();pD['unbind']('stateChange',pE,this);}};pD['bind']('stateChange',pE,this);}return pD;};TDV['Tour']['Script']['playGlobalAudio']=function(pI,pJ,pK,pL){var pM=function(){pI['unbind']('end',pM,this);this['stopGlobalAudio'](pI);if(pK)pK['call'](this);};pI=this['getGlobalAudio'](pI);var pN=window['currentGlobalAudios'];if(!pN){pN=window['currentGlobalAudios']={};}pN[pI['get']('id')]={'audio':pI,'asBackground':pL||![],'allowResume':pJ};if(pI['get']('state')=='playing'){return pI;}if(!pI['get']('loop')){pI['bind']('end',pM,this);}pI['play']();return pI;};TDV['Tour']['Script']['restartTourWithoutInteraction']=function(pO){var pP=-0x1;this['bind']('userInteraction',pQ['bind'](this),this);pQ();function pQ(){if(pP!=-0x1)clearTimeout(pP);pP=setTimeout(function(){var pR=this['get']('data')['tour'];if(pR){if(this['isCardboardViewMode']())location['reload']();else pR['reload']();}}['bind'](this),pO*0x3e8);}};TDV['Tour']['Script']['resumePlayers']=function(pS,pT){for(var pU=0x0;pU<pS['length'];++pU){var pV=pS[pU];var pW=this['getMediaFromPlayer'](pV);if(!pW)continue;if(pT&&pW['get']('class')!='Video360'&&'pauseCamera'in pV){pV['resumeCamera']();}else if(pV['get']('state')!='playing'){var pX=pV['get']('data');if(!pX){pX={};pV['set']('data',pX);}pX['playing']=!![];var pY=function(){if(pV['get']('state')=='playing'){delete pX['playing'];pV['unbind']('stateChange',pY,this);}};pV['bind']('stateChange',pY,this);pV['play']();}}};TDV['Tour']['Script']['stopGlobalAudios']=function(pZ){var q0=window['currentGlobalAudios'];var q1=this;if(q0){Object['keys'](q0)['forEach'](function(q2){var q3=q0[q2];if(!pZ||pZ&&!q3['asBackground']){q1['stopGlobalAudio'](q3['audio']);}});}};TDV['Tour']['Script']['stopGlobalAudio']=function(q4){var q5=window['currentGlobalAudios'];if(q5){var q6=q5[q4['get']('id')];if(q6){q4=q6['audio'];delete q5[q4['get']('id')];if(Object['keys'](q5)['length']==0x0){window['currentGlobalAudios']=undefined;}}}if(q4)q4['stop']();};TDV['Tour']['Script']['setCameraSameSpotAsMedia']=function(q7,q8){var q9=this['getCurrentPlayerWithMedia'](q8);if(q9!=undefined){var qa=q7['get']('initialPosition');qa['set']('yaw',q9['get']('yaw'));qa['set']('pitch',q9['get']('pitch'));qa['set']('hfov',q9['get']('hfov'));}};TDV['Tour']['Script']['setComponentVisibility']=function(qb,qc,qd,qe,qf,qg){var qh=this['getKey']('keepVisibility_'+qb['get']('id'));if(qh)return;this['unregisterKey']('visibility_'+qb['get']('id'));var qi=function(){if(qf){qb['set'](qf,qe);}qb['set']('visible',qc);if(qb['get']('class')=='ViewerArea'){try{if(qc)qb['restart']();else if(qb['get']('playbackState')=='playing')qb['pause']();}catch(qn){};}};var qj='effectTimeout_'+qb['get']('id');if(!qg&&window['hasOwnProperty'](qj)){var ql=window[qj];if(ql instanceof Array){for(var qm=0x0;qm<ql['length'];qm++){clearTimeout(ql[qm]);}}else{clearTimeout(ql);}delete window[qj];}else if(qc==qb['get']('visible')&&!qg)return;if(qd&&qd>0x0){var ql=setTimeout(function(){if(window[qj]instanceof Array){var qo=window[qj];var qp=qo['indexOf'](ql);qo['splice'](qp,0x1);if(qo['length']==0x0){delete window[qj];}}else{delete window[qj];}qi();},qd);if(window['hasOwnProperty'](qj)){window[qj]=[window[qj],ql];}else{window[qj]=ql;}}else{qi();}};TDV['Tour']['Script']['setDirectionalPanoramaAudio']=function(qq,qr,qs,qt){qq['set']('yaw',qr);qq['set']('pitch',qs);qq['set']('maximumAngle',qt);};TDV['Tour']['Script']['setLocale']=function(qu){this['stopTextToSpeech']();var qv=this['get']('data')['localeManager'];if(qv)this['get']('data')['localeManager']['setLocale'](qu);else{this['get']('data')['defaultLocale']=qu;this['get']('data')['forceDefaultLocale']=!![];}};TDV['Tour']['Script']['setEndToItemIndex']=function(qw,qx,qy){var qz=function(){if(qw['get']('selectedIndex')==qx){var qA=qw['get']('items')[qy];this['skip3DTransitionOnce'](qA['get']('player'));qw['set']('selectedIndex',qy);}};this['executeFunctionWhenChange'](qw,qx,qz);};TDV['Tour']['Script']['setMapLocation']=function(qB,qC){var qD=function(){qB['unbind']('stop',qD,this);qE['set']('mapPlayer',null);};qB['bind']('stop',qD,this);var qE=qB['get']('player');qE['set']('mapPlayer',qC);};TDV['Tour']['Script']['setMainMediaByIndex']=function(qF){var qG=undefined;if(qF>=0x0&&qF<this['mainPlayList']['get']('items')['length']){qG=this['mainPlayList']['get']('items')[qF];var qH=qG['get']('media');var qI=qH['get']('class')['indexOf']('Panorama')!=-0x1?_findLocationWithPanorama['call'](this,qH):null;if(qI){this['startPanoramaWithModel']['call'](this,qG,function(){this['mainPlayList']['set']('selectedIndex',qF);}['bind'](this));}else{this['mainPlayList']['set']('selectedIndex',qF);}}return qG;};TDV['Tour']['Script']['setMainMediaByName']=function(qJ){var qK=this['getMainViewer']();var qL=this['_getPlayListsWithViewer'](qK);for(var qM=0x0,qN=qL['length'];qM<qN;++qM){var qO=qL[qM];var qP=qO['get']('items');for(var qQ=0x0,qR=qP['length'];qQ<qR;++qQ){var qS=qP[qQ];var qT=qS['get']('media')['get']('data');if(qT!==undefined&&qT['label']==qJ&&qS['get']('player')['get']('viewerArea')==qK){qO['set']('selectedIndex',qQ);return qS;}}}};TDV['Tour']['Script']['executeAudioAction']=function(qU,qV,qW,qX,qY,qZ){if(qU['length']==0x0)return;var r0,r1;var r2=this['getMainViewer']();if(qW&&!(qW===!![])){var r3=this['getPlayListsWithMedia'](qW);for(var r4=0x0;r4<r3['length'];++r4){var r5=r3[r4];var r7=this['getPlayListItemByMedia'](r5,qW);if(r7&&r7['get']('player')&&r7['get']('player')['get']('viewerArea')==r2){r0=r5;r1=r0['get']('items')['indexOf'](r7);break;}}if(!r0&&r3['length']>0x0){r0=r3[0x0];r1=this['getPlayListItemIndexByMedia'](r0,qW);}if(!r0)qW=!![];}if(qW===!![]){var r8=this['getActiveMediaWithViewer'](r2);if(r8){r0=this['getFirstPlayListWithMedia'](r8,!![]);var r7=this['getPlayListItemByMedia'](r0,r8);r1=r0['get']('items')['indexOf'](r7);}else{qW=null;}}var r9=[];var ra=function(){var ri=r9['concat']();var rj=![];var rk=function(rn){var ro=rn['source']['get']('state');if(ro=='playing'){if(!rj){rj=!![];this['pauseGlobalAudios'](r9,!![]);}}else if(ro=='stopped'){ri['splice'](ri['indexOf'](rn['source']),0x1);if(ri['length']==0x0){this['resumeGlobalAudios']();}rn['source']['unbind']('stateChange',rk,this);}}['bind'](this);for(var rl=0x0,rm=r9['length'];rl<rm;++rl){r9[rl]['bind']('stateChange',rk,this);}}['bind'](this);var rb=function(){for(var rp=0x0,rq=qU['length'];rp<rq;++rp){var rr=qU[rp];r9['push'](this['playGlobalAudio'](rr,qX));}if(qY)ra();}['bind'](this);var rc=function(){for(var rs=0x0,rt=qU['length'];rs<rt;++rs){var ru=qU[rs];r9['push'](this['playGlobalAudioWhilePlay'](r0,r1,ru,qX));}if(qY)ra();}['bind'](this);var rd=function(){for(var rv=0x0,rw=qU['length'];rv<rw;++rv){this['pauseGlobalAudio'](qU[rv]);}}['bind'](this);var re=function(){for(var rx=0x0,ry=qU['length'];rx<ry;++rx){this['stopGlobalAudio'](qU[rx]);}}['bind'](this);var rf=function(){for(var rz=0x0,rA=qU['length'];rz<rA;++rz){if(this['getGlobalAudio'](qU[rz])['get']('state')=='playing')return!![];}return![];}['bind'](this);if(qV=='playPause'||qV=='playStop'){if(rf()){if(qV=='playPause'){rd();}else if(qV=='playStop'){re();}}else{if(qY){if(qV=='playStop'){this['stopGlobalAudios'](!![]);}}if(r0){rc();}else{rb();}}}else if(qV=='play'||qV=='forcePlay'){if(qV=='forcePlay')re();if(r0||qW===!![]){if(qZ){var rg=r0?r0['get']('items')[r1]['get']('player'):this['getActivePlayerWithViewer'](this['getMainViewer']());if(rg&&rg['pauseCamera']){var rh=qU['concat']();endCallback=function(rB){rh['splice'](rh['indexOf'](rB),0x1);if(rh['length']==0x0)rg['resumeCamera']();}['bind'](this);rg['pauseCamera']();}}rc();}else{rb();}}else if(qV=='stop'){re();}else if(qV=='pause'){rd();}};TDV['Tour']['Script']['executeAudioActionByTags']=function(rC,rD,rE,rF,rG,rH,rI){var rJ=this['getAudioByTags'](rC,rD);this['executeAudioAction'](rJ,rE,rF,rG,rH,rI);};TDV['Tour']['Script']['setPlayListSelectedIndex']=function(rK,rL){var rM=rK['get']('items')[rL];var rN=rM['get']('player');var rO=rN['get']('viewerArea');var rP=this['getByClassName']('PlayList');for(var rQ of rP){if(rQ==rK)continue;var rR=rQ['get']('selectedIndex');if(rR!=-0x1){var rS=rQ['get']('items')[rR];var rT=rS['get']('player');if(rT&&rT!=rN&&rT['get']('class')!='Model3DPlayer'&&rT['get']('viewerArea')==rO)rQ['set']('selectedIndex',-0x1);}}rK['set']('selectedIndex',rL);};TDV['Tour']['Script']['setMediaBehaviour']=function(rU,rV,rW,rX){var rY=this;var rZ=function(sm){if(sm['data']['state']=='stopped'&&rX){s3['call'](this,!![]);}};var s0=function(){s9['unbind']('begin',s0,rY);var sn=s9['get']('media');var so=sn['get']('class');if(so!='Panorama'&&so!='Model3D'||sn['get']('camera')!=undefined&&sn['get']('camera')['get']('initialSequence')!=undefined){sa['bind']('stateChange',rZ,rY);}};var s1=function(){var sp=s6['get']('selectedIndex');if(sp!=-0x1){s8=sp;s3['call'](this,![]);}};var s2=function(){s3['call'](this,![]);};var s3=function(sq){if(!s6)return;var sr=s9['get']('media');if((sr['get']('class')=='Video360'||sr['get']('class')=='Video')&&sr['get']('loop')==!![]&&!sq)return;rU['set']('selectedIndex',-0x1);if(sh&&sg!=-0x1){if(sh){if(sg>0x0&&sh['get']('movements')[sg-0x1]['get']('class')=='TargetPanoramaCameraMovement'){var ss=si['get']('initialPosition');var st=ss['get']('yaw');var su=ss['get']('pitch');var sv=ss['get']('hfov');var sw=sh['get']('movements')[sg-0x1];var sx=sw['get']('targetYaw');var sy=sw['get']('targetPitch');var sz=sw['get']('targetHfov');if(sx!==undefined)ss['set']('yaw',sx);if(sy!==undefined)ss['set']('pitch',sy);if(sz!==undefined)ss['set']('hfov',sz);var sA=function(sD){ss['set']('yaw',st);ss['set']('pitch',su);ss['set']('hfov',sv);sc['unbind']('end',sA,this);};sc['bind']('end',sA,this);}sh['set']('movementIndex',sg);}}if(sa){s9['unbind']('begin',s0,this);sa['unbind']('stateChange',rZ,this);for(var sB=0x0;sB<sj['length'];++sB){sj[sB]['unbind']('click',s2,this);}}if(sf){var sC=this['getMediaFromPlayer'](sa);if((s6==this['mainPlayList']||s6['get']('items')['length']>0x1)&&(sC==undefined||sC==s9['get']('media'))){s6['set']('selectedIndex',s8);}if(rU!=s6)s6['unbind']('change',s1,this);}else{sd['set']('visible',se);}s6=undefined;};if(!rW){var s4=rU['get']('selectedIndex');var s5=s4!=-0x1?rU['get']('items')[rU['get']('selectedIndex')]['get']('player'):this['getActivePlayerWithViewer'](this['getMainViewer']());if(s5){rW=this['getMediaFromPlayer'](s5);}}var s6=undefined;if(rW){var s7=this['getPlayListsWithMedia'](rW,!![]);if(s7['indexOf'](rU)!=-0x1){s6=rU;}else if(s7['indexOf'](this['mainPlayList'])!=-0x1){s6=this['mainPlayList'];}else if(s7['length']>0x0){s6=s7[0x0];}}if(!s6){rU['set']('selectedIndex',rV);return;}var s8=s6['get']('selectedIndex');var s9=rU['get']('items')[rV];var sa=s9['get']('player');var sb=this['getMediaFromPlayer'](sa);if(rU['get']('selectedIndex')==rV&&sb==s9['get']('media')||s8==-0x1){return;}if(rU['get']('selectedIndex')==rV&&sb!=s9['get']('media'))rU['set']('selectedIndex',-0x1);var sc=s6['get']('items')[s8];var sd=sa['get']('viewerArea');var se=sd['get']('visible');var sf=sd==sc['get']('player')['get']('viewerArea');if(sf){if(rU!=s6){s6['set']('selectedIndex',-0x1);s6['bind']('change',s1,this);}}else{sd['set']('visible',!![]);}var sg=-0x1;var sh=undefined;var si=sc['get']('camera');if(si){sh=si['get']('initialSequence');if(sh){sg=sh['get']('movementIndex');}}rU['set']('selectedIndex',rV);var sj=[];var sk=function(sE){var sF=sa['get'](sE);if(sF==undefined)return;if(Array['isArray'](sF))sj=sj['concat'](sF);else sj['push'](sF);};sk('buttonStop');for(var sl=0x0;sl<sj['length'];++sl){sj[sl]['bind']('click',s2,this);}s9['bind']('begin',s0,rY);this['executeFunctionWhenChange'](rU,rV,rX?s2:undefined);};TDV['Tour']['Script']['setOverlayBehaviour']=function(sG,sH,sI,sJ){var sK=function(){switch(sI){case'triggerClick':this['triggerOverlay'](sG,'click');break;case'stop':case'play':case'pause':sG[sI]();break;case'togglePlayPause':case'togglePlayStop':if(sG['get']('state')=='playing')sG[sI=='togglePlayPause'?'pause':'stop']();else sG['play']();break;}if(sJ){if(window['overlaysDispatched']==undefined)window['overlaysDispatched']={};var sP=sG['get']('id');window['overlaysDispatched'][sP]=!![];setTimeout(function(){delete window['overlaysDispatched'][sP];},0x3e8);}};if(sJ&&window['overlaysDispatched']!=undefined&&sG['get']('id')in window['overlaysDispatched'])return;var sL=this['getFirstPlayListWithMedia'](sH,!![]);if(sL!=undefined){var sM=this['getPlayListItemByMedia'](sL,sH);var sN=sM['get']('player');if(sL['get']('items')['indexOf'](sM)!=sL['get']('selectedIndex')||this['isPanorama'](sM['get']('media'))&&sN['get']('rendererPanorama')!=sM['get']('media')){var sO=function(sQ){sM['unbind']('begin',sO,this);sK['call'](this);};sM['bind']('begin',sO,this);return;}}sK['call'](this);};TDV['Tour']['Script']['setOverlaysVisibility']=function(sR,sS,sT){var sU='overlayEffects';var sV=undefined;var sW=this['getKey'](sU);if(!sW){sW={};this['registerKey'](sU,sW);}for(var sX=0x0,sY=sR['length'];sX<sY;++sX){var sZ=sR[sX];if(!sZ)continue;if(sT&&sT>0x0){sW[sZ['get']('id')]=setTimeout(t0['bind'](this,sZ),sT);}else{t0['call'](this,sZ);}}function t0(t1){var t2=t1['get']('id');var t3=sW[t2];if(t3){clearTimeout(t3);delete t3[t2];}var t4=t1['get']('class')=='PanoramaModel3DLocation'?t1['get']('data')['sprite']:t1;if(!t4)return;var t5=sS=='toggle'?!t4['get']('enabled'):sS;t4['set']('enabled',t5);if(t1['get']('class')=='PanoramaModel3DLocation')t1['get']('data')['enabled']=t5;var t7=t1['get']('data');if(t5&&t7&&'group'in t7){var t8=this['getOverlaysByGroupname'](t7['group']);for(var t9=0x0,ta=t8['length'];t9<ta;++t9){var tc=t8[t9];if(tc!=t1)tc['set']('enabled',!t5);}}if(!sV)sV=this['getByClassName']('AdjacentPanorama');for(var td=0x0,te=sV['length'];td<te;++td){var tf=sV[td];var t7=tf['get']('data');if(!t7)continue;var tc=this[t7['overlayID']];if(tc&&tc==t1){tf['set']('enabled',tc['get']('enabled'));}}}};TDV['Tour']['Script']['setOverlaysVisibilityByTags']=function(tg,th,ti,tj,tk){var tl=ti?this['getPanoramaOverlaysByTags'](ti,tg,tj):this['getOverlaysByTags'](tg,tj);this['setOverlaysVisibility'](tl,th,tk);};TDV['Tour']['Script']['setComponentsVisibilityByTags']=function(tm,tn,to,tp,tq){var tr=this['getComponentsByTags'](tm,tq);for(var ts=0x0,tt=tr['length'];ts<tt;++ts){var tu=tr[ts];if(tn=='toggle')tu['get']('visible')?tp(tu):to(tu);else tn?to(tu):tp(tu);}};TDV['Tour']['Script']['setModel3DCameraSpot']=function(tv,tw,tx,ty,tz){var tA=tv['get']('selectedIndex');var tB=tv['get']('items');var tC=tw['get']('media');var tD=tC['get']('camera');if(tD['get']('state')=='playing')tD['stop']();if(tA>=0x0&&tB[tA]==tw&&tC['get']('isLoaded')){tD['set']('yaw',tD['get']('yaw')%0x168);this['createTween'](tD,tx,ty,tz)['play']();}else{this['startModel3DWithCameraSpot'](tw,tx);}};TDV['Tour']['Script']['setModel3DCameraSequence']=function(tE,tF,tG){var tH=tE['get']('selectedIndex');var tI=tE['get']('items');var tJ=tF['get']('media');if(tI[tH]==tF&&tJ['get']('isLoaded')){tG['play']();}else{var tK=tG['get']('movements');var tL={};if(tK['length']>0x0){var tM=tK[0x0];if(tM['get']('class')=='TargetModel3DCameraMovement'){var tN=['x','y','z','yaw','pitch','fov','distance'];for(var tO in tN){tO=tN[tO];var tP=tM['get']('target'+tO['charAt'](0x0)['toUpperCase']()+tO['slice'](0x1));if(tP!==undefined){tL[tO]=tP;}}}}this['startModel3DWithCameraSpot'](tF,tL);var tQ=function(){tF['unbind']('begin',tQ,this);tG['play']();};tF['bind']('begin',tQ,this);}};TDV['Tour']['Script']['setPanoramaCameraWithCurrentSpot']=function(tR,tS){var tT=this['getActiveMediaWithViewer'](tS||this['getMainViewer']());if(tT!=undefined&&(tT['get']('class')['indexOf']('Panorama')!=-0x1||tT['get']('class')=='Video360')){var tU=tR['get']('media');var tV=this['clonePanoramaCamera'](tR['get']('camera'));this['setCameraSameSpotAsMedia'](tV,tT);this['startPanoramaWithCamera'](tU,tV);}};TDV['Tour']['Script']['setPanoramaCameraWithSpot']=function(tW,tX,tY,tZ,u0){var u1=tW['get']('selectedIndex');var u2=tW['get']('items');var u3=tX['get']('player');if(u2[u1]==tX||u3['get']('rendererPanorama')==tX['get']('media')){if(tY===undefined)tY=u3['get']('yaw');if(tZ===undefined)tZ=u3['get']('pitch');if(u0===undefined)u0=u3['get']('hfov');u3['moveTo'](tY,tZ,u3['get']('roll'),u0);}else{var u4=tX['get']('media');var u5=this['clonePanoramaCamera'](tX['get']('camera'));var u6=u5['get']('initialPosition');if(tY!==undefined)u6['set']('yaw',tY);if(tZ!==undefined)u6['set']('pitch',tZ);if(u0!==undefined)u6['set']('hfov',u0);this['startPanoramaWithCamera'](u4,u5);}};TDV['Tour']['Script']['setSurfaceSelectionHotspotMode']=function(u7){var u8=this['getByClassName']('HotspotPanoramaOverlay');var u9=this['getByClassName']('PanoramaPlayer');var ua=u7=='hotspotEnabled';var ub=u7=='circleEnabled';var uc=!!u7;u8['forEach'](function(ud){var ue=ud['get']('data');if(ue&&ue['hasPanoramaAction']==!![])ud['set']('enabledInSurfaceSelection',ua);});u9['forEach'](function(uf){uf['set']('adjacentPanoramaPositionsEnabled',ub);uf['set']('surfaceSelectionEnabled',uc);});this['get']('data')['surfaceSelectionHotspotMode']=u7;};TDV['Tour']['Script']['setValue']=function(ug,uh,ui){try{if('set'in ug)ug['set'](uh,ui);else ug[uh]=ui;}catch(uj){}};TDV['Tour']['Script']['setStartTimeVideo']=function(uk,ul){var um=this['getPlayListItems'](uk);var un=[];var uo=function(){for(var us=0x0;us<um['length'];++us){var ut=um[us];ut['set']('startTime',un[us]);ut['unbind']('stop',uo,this);}};for(var up=0x0;up<um['length'];++up){var uq=um[up];var ur=uq['get']('player');if(!ur)continue;if(ur['get']('video')==uk&&ur['get']('state')=='playing'){ur['seek'](ul);}else{un['push'](uq['get']('startTime'));uq['set']('startTime',ul);uq['bind']('stop',uo,this);}}};TDV['Tour']['Script']['setStartTimeVideoSync']=function(uu,uv){if(uu&&uv)this['setStartTimeVideo'](uu,uv['get']('currentTime'));};TDV['Tour']['Script']['skip3DTransitionOnce']=function(uw){if(uw&&uw['get']('class')=='PanoramaPlayer'){var ux=uw['get']('viewerArea');if(ux&&ux['get']('translationTransitionEnabled')==!![]){var uy=function(){uw['unbind']('preloadMediaShow',uy,this);ux['set']('translationTransitionEnabled',!![]);};ux['set']('translationTransitionEnabled',![]);uw['bind']('preloadMediaShow',uy,this);}}};TDV['Tour']['Script']['shareSocial']=function(uz,uA,uB,uC,uD){if(uA==undefined){uA=location['href']['split'](location['search']||location['hash']||/[?#]/)[0x0];}if(uB){uA+=this['updateDeepLink'](uC,![]);}uA=function(uF){switch(uF){case'email':return'mailto:?body='+encodeURIComponent(uA);case'facebook':var uG=uA['indexOf']('?')!=-0x1;uA=uA['replace']('#','?');if(uG){var uH=uA['lastIndexOf']('?');uA=uA['substring'](0x0,uH)+'&'+uA['substring'](uH+0x1);}return'https://www.facebook.com/sharer/sharer.php?u='+encodeURIComponent(uA);case'linkedin':return'https://www.linkedin.com/shareArticle?mini=true&url='+encodeURIComponent(uA);case'pinterest':return'https://pinterest.com/pin/create/button/?url='+uA;case'telegram':return'https://t.me/share/url?url='+uA;case'twitter':return'https://twitter.com/intent/tweet?source=webclient&url='+uA;case'whatsapp':return'https://api.whatsapp.com/send/?text='+encodeURIComponent(uA);default:return uA;}}(uz);if(uD){for(var uE in uD){uA+='&'+uE+'='+uD[uE];}}if(uz=='clipboard')this['copyToClipboard'](uA);else this['openLink'](uA,'_blank');};TDV['Tour']['Script']['showComponentsWhileMouseOver']=function(uI,uJ,uK,uL){var uM=function(uQ){for(var uR=0x0,uS=uJ['length'];uR<uS;uR++){var uT=uJ[uR];if(!uL||uL(uT,uQ))uT['set']('visible',uQ);}};if(this['get']('isMobile')){uM['call'](this,!![]);}else{var uN=-0x1;var uO=function(){uM['call'](this,!![]);if(uN>=0x0)clearTimeout(uN);uI['bind']('rollOut',uP,this);};var uP=function(){var uU=function(){uM['call'](this,![]);};uI['unbind']('rollOut',uP,this);uN=setTimeout(uU['bind'](this),uK);};uI['bind']('rollOver',uO,this);}};TDV['Tour']['Script']['setObjectsVisibilityByTags']=function(uV,uW,uX,uY){var uZ=this['_getObjectsByTags'](uW,['InnerModel3DObject'],'tags2Objects',uX)['filter'](function(v0){return uV['get']('objects')['indexOf'](v0)!=-0x1;}['bind'](this));this['setObjectsVisibility'](uZ,uY);};TDV['Tour']['Script']['setObjectsVisibilityByID']=function(v1,v2,v3){var v4=v2['map'](function(v5){return this['getModel3DInnerObject'](v1,v5);}['bind'](this));this['setObjectsVisibility'](v4,v3);};TDV['Tour']['Script']['setObjectsVisibility']=function(v6,v7){v6['forEach'](function(v8){if(v8)v8['set']('enabled',v7==='toggle'?!v8['get']('enabled'):v7);}['bind'](this));};TDV['Tour']['Script']['getModel3DInnerObject']=function(v9,va){var vb=v9['get']('objects');for(var vc=0x0,vd=vb['length'];vc<vd;++vc){var ve=vb[vc];if(ve['get']('class')=='InnerModel3DObject'&&ve['get']('objectId')==va)return ve;}return undefined;};TDV['Tour']['Script']['showPopupMedia']=function(vf,vg,vh,vi,vj,vk){var vl=this;var vm=function(){window['resumeAudiosBlocked']=![];vh['set']('selectedIndex',-0x1);vl['getMainViewer']()['set']('toolTipEnabled',!![]);this['resumePlayers'](vr,!![]);if(vq){this['unbind']('resize',vo,this);}vf['unbind']('close',vm,this);};var vn=function(){vf['hide']();};var vo=function(){var vs=function(vJ){return vf['get'](vJ)||0x0;};var vt=vl['get']('actualWidth');var vu=vl['get']('actualHeight');var vv=vl['getMediaWidth'](vg);var vw=vl['getMediaHeight'](vg);var vx=parseFloat(vi)/0x64;var vy=parseFloat(vj)/0x64;var vz=vx*vt;var vA=vy*vu;var vB=vs('footerHeight');var vC=vs('headerHeight');if(!vC){var vD=vs('closeButtonIconHeight')+vs('closeButtonPaddingTop')+vs('closeButtonPaddingBottom');var vE=vl['getPixels'](vs('titleFontSize'))+vs('titlePaddingTop')+vs('titlePaddingBottom');vC=vD>vE?vD:vE;vC+=vs('headerPaddingTop')+vs('headerPaddingBottom');}var vF=vz-vs('bodyPaddingLeft')-vs('bodyPaddingRight')-vs('paddingLeft')-vs('paddingRight');var vG=vA-vC-vB-vs('bodyPaddingTop')-vs('bodyPaddingBottom')-vs('paddingTop')-vs('paddingBottom');var vH=vF/vG;var vI=vv/vw;if(vH>vI){vz=vG*vI+vs('bodyPaddingLeft')+vs('bodyPaddingRight')+vs('paddingLeft')+vs('paddingRight');}else{vA=vF/vI+vC+vB+vs('bodyPaddingTop')+vs('bodyPaddingBottom')+vs('paddingTop')+vs('paddingBottom');}if(vz>vt*vx){vz=vt*vx;}if(vA>vu*vy){vA=vu*vy;}vf['set']('width',vz);vf['set']('height',vA);vf['set']('x',(vt-vs('actualWidth'))*0.5);vf['set']('y',(vu-vs('actualHeight'))*0.5);};if(vk){this['executeFunctionWhenChange'](vh,0x0,vn);}var vp=vg['get']('class');var vq=vp=='Video'||vp=='Video360';vh['set']('selectedIndex',0x0);if(vq){this['bind']('resize',vo,this);vo();vh['get']('items')[0x0]['get']('player')['play']();}else{vf['set']('width',vi);vf['set']('height',vj);}window['resumeAudiosBlocked']=!![];this['getMainViewer']()['set']('toolTipEnabled',![]);var vr=this['pauseCurrentPlayers'](!![]);vf['bind']('close',vm,this);vf['show'](this,!![]);};TDV['Tour']['Script']['showPopupImage']=function(vK,vL,vM,vN,vO,vP,vQ,vR,vS,vT,vU,vV){var vW=![];var vX=function(){we['unbind']('loaded',w0,this);w4['call'](this);};var vY=function(){we['unbind']('click',vY,this);if(wi!=undefined){clearTimeout(wi);}};var vZ=function(){setTimeout(w8,0x0);};var w0=function(){this['unbind']('click',vX,this);wd['set']('visible',!![]);w8();wf['set']('visible',!![]);we['unbind']('loaded',w0,this);we['bind']('resize',vZ,this);wi=setTimeout(w1['bind'](this),0xc8);};var w1=function(){wi=undefined;if(vR){we['bind']('click',vY,this);w3['call'](this);}we['bind']('userInteractionStart',w9,this);we['bind']('userInteractionEnd',wa,this);we['bind']('backgroundClick',w4,this);if(vL){we['bind']('click',w6,this);we['set']('imageCursor','hand');}wf['bind']('click',w4,this);if(vU)vU['call'](this);};var w2=function(){if(vR&&wi){clearTimeout(wi);wi=undefined;}};var w3=function(){if(vR){w2();wi=setTimeout(w4['bind'](this),vR);}};var w4=function(){this['getMainViewer']()['set']('toolTipEnabled',!![]);vW=!![];if(wi)clearTimeout(wi);if(wj)clearTimeout(wj);if(vR)vY();if(vV)vV['call'](this);we['set']('visible',![]);if(vP&&vP['get']('duration')>0x0){vP['bind']('end',w5,this);}else{we['set']('image',null);}wf['set']('visible',![]);wd['set']('visible',![]);this['unbind']('click',vX,this);we['unbind']('backgroundClick',w4,this);we['unbind']('userInteractionStart',w9,this);we['unbind']('userInteractionEnd',wa,this,!![]);we['unbind']('resize',vZ,this);if(vL){we['unbind']('click',w6,this);we['set']('cursor','default');}wf['unbind']('click',w4,this);this['resumePlayers'](wh,vS==null||vT);if(vT){this['resumeGlobalAudios']();}if(vS){this['stopGlobalAudio'](vS);}};var w5=function(){we['set']('image',null);vP['unbind']('end',w5,this);};var w6=function(){we['set']('image',w7()?vK:vL);};var w7=function(){return we['get']('image')==vL;};var w8=function(){var wk=we['get']('actualWidth')-we['get']('imageLeft')-we['get']('imageWidth')+0xa;var wl=we['get']('imageTop')+0xa;if(wk<0xa)wk=0xa;if(wl<0xa)wl=0xa;wf['set']('right',wk);wf['set']('top',wl);};var w9=function(){w2();if(wj){clearTimeout(wj);wj=undefined;}else{wf['set']('visible',![]);}};var wa=function(){w3['call'](this);if(!vW){wj=setTimeout(wb,0x12c);}};var wb=function(){wj=undefined;wf['set']('visible',!![]);w8();};var wc=function(wm){var wn=wm['get']('data');if(wn&&'extraLevels'in wn){var wo=this['rootPlayer']['createInstance'](wm['get']('class'));var wp=wn['extraLevels'];for(var wq=0x0;wq<wp['length'];wq++){var wr=wp[wq];if(typeof wr=='string')wp[wq]=this[wr['replace']('this.','')];}wo['set']('levels',wm['get']('levels')['concat'](wp));wm=wo;}return wm;};this['getMainViewer']()['set']('toolTipEnabled',![]);var wd=this['veilPopupPanorama'];var we=this['zoomImagePopupPanorama'];var wf=this['closeButtonPopupPanorama'];if(vQ){for(var wg in vQ){wf['set'](wg,vQ[wg]);}}var wh=this['pauseCurrentPlayers'](vS==null||!vT);if(vT){this['pauseGlobalAudios'](null,!![]);}if(vS){this['playGlobalAudio'](vS,!![]);}var wi=undefined;var wj=undefined;vK=wc['call'](this,vK);if(vL)vL=wc['call'](this,vL);we['bind']('loaded',w0,this);setTimeout(function(){this['bind']('click',vX,this,![]);}['bind'](this),0x0);we['set']('image',vK);we['set']('customWidth',vM);we['set']('customHeight',vN);we['set']('showEffect',vO);we['set']('hideEffect',vP);we['set']('visible',!![]);return we;};TDV['Tour']['Script']['showPopupPanoramaOverlay']=function(ws,wt,wu,wv,ww,wx,wy,wz){var wA=this['isCardboardViewMode']();if(ws['get']('visible')||!wA&&this['zoomImagePopupPanorama']['get']('visible'))return;this['getMainViewer']()['set']('toolTipEnabled',![]);if(!wA){var wB=this['zoomImagePopupPanorama'];var wC=ws['get']('showDuration');var wD=ws['get']('hideDuration');var wF=this['pauseCurrentPlayers'](wx==null||!wy);var wG=ws['get']('popupMaxWidth');var wH=ws['get']('popupMaxHeight');var wI=function(){var wM=function(){if(!this['isCardboardViewMode']())ws['set']('visible',![]);};ws['unbind']('showEnd',wI,this);ws['set']('showDuration',0x1);ws['set']('hideDuration',0x1);this['showPopupImage'](wu,wv,ws['get']('popupMaxWidth'),ws['get']('popupMaxHeight'),null,null,wt,ww,wx,wy,wM,wJ);};var wJ=function(){var wN=function(){ws['unbind']('hideEnd',wN,this);if(wz)wz();};var wO=function(){ws['unbind']('showEnd',wO,this);ws['bind']('hideEnd',wN,this,!![]);ws['set']('visible',![]);ws['set']('showDuration',wC);ws['set']('popupMaxWidth',wG);ws['set']('popupMaxHeight',wH);};this['resumePlayers'](wF,wx==null||!wy);var wP=wB['get']('imageWidth');var wQ=wB['get']('imageHeight');ws['bind']('showEnd',wO,this,!![]);ws['set']('showDuration',0x1);ws['set']('hideDuration',wD);ws['set']('popupMaxWidth',wP);ws['set']('popupMaxHeight',wQ);if(ws['get']('visible'))wO();else ws['set']('visible',!![]);this['getMainViewer']()['set']('toolTipEnabled',!![]);};ws['bind']('showEnd',wI,this,!![]);}else{var wK=function(){this['resumePlayers'](wF,wx==null||wy);if(wy){this['resumeGlobalAudios']();}if(wx){this['stopGlobalAudio'](wx);}if(wv){ws['set']('image',wu);ws['unbind']('click',wL,this);}ws['unbind']('hideEnd',wK,this);this['getMainViewer']()['set']('toolTipEnabled',!![]);if(wz)wz();};var wL=function(){ws['set']('image',ws['get']('image')==wu?wv:wu);};var wF=this['pauseCurrentPlayers'](wx==null||!wy);if(wy){this['pauseGlobalAudios'](null,!![]);}if(wx){this['playGlobalAudio'](wx,!![]);}if(wv)ws['bind']('click',wL,this);ws['bind']('hideEnd',wK,this,!![]);}ws['set']('visible',!![]);};TDV['Tour']['Script']['showPopupPanoramaVideoOverlay']=function(wR,wS,wT,wU,wV){var wW=![];var wX=function(){wR['unbind']('showEnd',wX);x1['bind']('click',wZ,this);x0();x1['set']('visible',!![]);}['bind'](this);var wY=function(){wW=!![];if(!wR['get']('loop'))wZ();}['bind'](this);var wZ=function(){window['resumeAudiosBlocked']=![];this['getMainViewer']()['set']('toolTipEnabled',!![]);wR['set']('visible',![]);x1['set']('visible',![]);x1['unbind']('click',wZ,this);wR['unbind']('end',wY,this);wR['unbind']('hideEnd',wZ,this,!![]);this['resumePlayers'](x3,!![]);if(wT){this['resumeGlobalAudios']();}if(wU)wU();if(wV&&wW)wV();}['bind'](this);var x0=function(){var x4=0xa;var x5=0xa;x1['set']('right',x4);x1['set']('top',x5);}['bind'](this);this['getMainViewer']()['set']('toolTipEnabled',![]);var x1=this['closeButtonPopupPanorama'];if(wS){for(var x2 in wS){x1['set'](x2,wS[x2]);}}window['resumeAudiosBlocked']=!![];var x3=this['pauseCurrentPlayers'](!![]);if(wT){this['pauseGlobalAudios']();}wR['bind']('end',wY,this,!![]);wR['bind']('showEnd',wX,this,!![]);wR['bind']('hideEnd',wZ,this,!![]);wR['set']('visible',!![]);};TDV['Tour']['Script']['showWindow']=function(x6,x7,x8){if(x6['get']('visible')==!![]){return;}var x9=function(){this['getMainViewer']()['set']('toolTipEnabled',!![]);if(x8){this['resumeGlobalAudios']();}xa();this['resumePlayers'](xd,!x8);x6['unbind']('close',x9,this);};var xa=function(){x6['unbind']('click',xa,this);if(xb!=undefined){clearTimeout(xb);}};var xb=undefined;if(x7){var xc=function(){x6['hide']();};x6['bind']('click',xa,this);xb=setTimeout(xc,x7);}this['getMainViewer']()['set']('toolTipEnabled',![]);if(x8){this['pauseGlobalAudios'](null,!![]);}var xd=this['pauseCurrentPlayers'](!x8);x6['bind']('close',x9,this);x6['show'](this,!![]);};TDV['Tour']['Script']['startModel3DWithCameraSpot']=function(xe,xf){var xg=xe['get']('media');var xh=window['currentPanoramasWithCameraChanged']==undefined||!(xg['get']('id')in window['currentPanoramasWithCameraChanged']);if(!xh){return;}var xi=xg['get']('camera');xf=Object['assign']({},xf);if(!xg['get']('isLoaded')){var xj={};for(var xl in xf){var xm='initial'+xl['charAt'](0x0)['toUpperCase']()+xl['slice'](0x1);xj[xm]=xi['get'](xm);xf[xm]=xf[xl];delete xf[xl];}if(window['currentPanoramasWithCameraChanged']==undefined){window['currentPanoramasWithCameraChanged']={};}var xn=xg['get']('id');window['currentPanoramasWithCameraChanged'][xn]=[xe];var xo=function(){if(xn in window['currentPanoramasWithCameraChanged']){delete window['currentPanoramasWithCameraChanged'][xn];}xe['unbind']('begin',xo,this);for(var xw in xj){xi['set'](xw,xj[xw]);}};xe['bind']('begin',xo,this);}else{for(var xl in xf){xi['set'](xl,xf[xl]);}xi['setStoredPosition'](xf);}var xp=xe['get']('player');var xq=xp['get']('viewerArea');var xr=this['getActivePlayersWithViewer'](xq);var xs=xr['find'](function(xx){return this['getMediaFromPlayer'](xx)['get']('class')['indexOf']('Panorama')!=-0x1;}['bind'](this));var xt=xg['get']('data');if(xs&&xt['panoramaLocations']){var xu=this['getMediaFromPlayer'](xs);var xv=_getObject(this,xt['panoramaLocations']['find'](xy=>xu==_getObject(this,_getObject(this,xy)['get']('data')['panorama'])));if(xv&&!xv['get']('forceModelLoading')){xv['set']('forceModelLoading',!![]);xe['bind']('begin',function xz(){xe['unbind']('begin',xz,this);xv['set']('forceModelLoading',![]);},this);}}};TDV['Tour']['Script']['startPanoramaWithCamera']=function(xA,xB){var xC=this['getByClassName']('PlayList');if(xC['length']==0x0)return;var xD=window['currentPanoramasWithCameraChanged']==undefined||!(xA['get']('id')in window['currentPanoramasWithCameraChanged']);var xE=[];for(var xG=0x0,xH=xC['length'];xG<xH;++xG){var xI=xC[xG];var xJ=xI['get']('items');for(var xK=0x0,xL=xJ['length'];xK<xL;++xK){var xN=xJ[xK];if(xN['get']('media')==xA&&(xN['get']('class')=='PanoramaPlayListItem'||xN['get']('class')=='Video360PlayListItem')){if(xD){xE['push']({'camera':xN['get']('camera'),'item':xN});}xN['set']('camera',xB);}}}if(xE['length']>0x0){if(window['currentPanoramasWithCameraChanged']==undefined){window['currentPanoramasWithCameraChanged']={};}var xO=xA['get']('id');window['currentPanoramasWithCameraChanged'][xO]=xE;var xP=function(){if(xO in window['currentPanoramasWithCameraChanged']){delete window['currentPanoramasWithCameraChanged'][xO];}for(var xR=0x0;xR<xE['length'];xR++){xE[xR]['item']['set']('camera',xE[xR]['camera']);xE[xR]['item']['unbind']('end',xP,this);}};for(var xG=0x0;xG<xE['length'];xG++){var xQ=xE[xG];var xN=xQ['item'];this['skip3DTransitionOnce'](xN['get']('player'));xN['bind']('end',xP,this);}}};TDV['Tour']['Script']['stopAndGoCamera']=function(xS,xT){var xU=xS['get']('initialSequence');xU['pause']();var xV=function(){xU['play']();};setTimeout(xV,xT);};TDV['Tour']['Script']['syncPlaylists']=function(xW){var xX=function(y5,y6){for(var y7=0x0,y8=xW['length'];y7<y8;++y7){var y9=xW[y7];if(y9!=y6){var ya=y9['get']('items');for(var yb=0x0,yc=ya['length'];yb<yc;++yb){if(ya[yb]['get']('media')==y5){if(y9['get']('selectedIndex')!=yb){y9['set']('selectedIndex',yb);}break;}}}}};var xY=function(yd){var ye=yd['source'];var yf=ye['get']('selectedIndex');if(yf<0x0)return;var yg=ye['get']('items')[yf]['get']('media');xX(yg,ye);};var xZ=function(yh){var yi=yh['source']['get']('panoramaMapLocation');if(yi){var yj=yi['get']('map');xX(yj);}};for(var y1=0x0,y3=xW['length'];y1<y3;++y1){xW[y1]['bind']('change',xY,this);}var y4=this['getByClassName']('MapPlayer');for(var y1=0x0,y3=y4['length'];y1<y3;++y1){y4[y1]['bind']('panoramaMapLocation_change',xZ,this);}};TDV['Tour']['Script']['translate']=function(yk){return this['get']('data')['localeManager']['trans'](yk);};TDV['Tour']['Script']['triggerOverlay']=function(yl,ym){if(yl['get']('areas')!=undefined){var yn=yl['get']('areas');for(var yo=0x0;yo<yn['length'];++yo){yn[yo]['trigger'](ym);}}else{yl['trigger'](ym);}};TDV['Tour']['Script']['updateDeepLink']=function(yp){yp=yp||{};var yq=this['mainPlayList']['get']('selectedIndex');var yr;var ys=yq>=0x0?this['mainPlayList']['get']('items')[yq]['get']('media'):this['getActiveMediaWithViewer'](this['getMainViewer']());if(ys!=undefined){var yu=ys['get']('data');if(yu&&yu['label']){yr='#media-name='+encodeURIComponent(yu['label']);}else if(yq>=0x0){yr='#media='+(yq+0x1);}}if(ys){if(yp['includeCurrentView']===!![]){var yv=this['getActivePlayerWithViewer'](this['getMainViewer']());if(yv){switch(yv['get']('class')){case'PanoramaPlayer':var yw=yv['get']('yaw');var yx=yv['get']('pitch');if(!isNaN(yw)&&!isNaN(yx))yr+='&yaw='+yw['toFixed'](0x2)+'&pitch='+yx['toFixed'](0x2);break;case'Model3DPlayer':var yy=yv['get']('model');var yz=yy['get']('camera');var yA=[];yA['push']('yaw='+yz['get']('yaw')['toFixed'](0x2));yA['push']('pitch='+yz['get']('pitch')['toFixed'](0x2));yA['push']('x='+yz['get']('x')['toFixed'](0x5));yA['push']('y='+yz['get']('y')['toFixed'](0x5));yA['push']('z='+yz['get']('z')['toFixed'](0x5));if(yz['get']('class')=='OrbitModel3DCamera')yA['push']('distance='+yz['get']('distance')['toFixed'](0x5));yr+='&'+yA['join']('&');break;}}}if(yp['includeCurrentVisibleHotspots']===!![]){var yB=this['getOverlays'](ys);var yC=[];var yD=[];for(var yE=0x0,yF=yB['length'];yE<yF;++yE){var yG=yB[yE];var yH=yG['get']('enabled');var yu=yG['get']('data');if(yH===undefined||!yu||!yu['label'])continue;var yI=encodeURIComponent(yu['label']);var yJ=yu['group'];if(yH!=yu['defaultEnabledValue']){if(yH){yC['push'](yI);}else if(!yJ){yD['push'](yI);}}}if(yC['length']>0x0)yr+='&son='+yC['join'](',');if(yD['length']>0x0)yr+='&hon='+yD['join'](',');if(ys['get']('class')=='Model3D'){var yK=ys['get']('variant');if(yK)yr+='&variant='+yK;var yL=ys['get']('objects');var yM=[];var yN=[];yL['forEach'](function(yP){if(yP['get']('class')=='InnerModel3DObject')(yP['get']('enabled')?yM:yN)['push'](yP['get']('objectId'));});if(yM['length']>0x0)yr+='&sobjids='+yM['join'](',');if(yN['length']>0x0)yr+='&hobjids='+yN['join'](',');}}if(yp['includeCurrentMeasureModel3DObjects']===!![]&&ys['get']('class')=='Model3D'){var yO=[];ys['get']('objects')['forEach'](function(yQ){if(yQ['get']('class')=='MeasureModel3DObject'&&yQ['get']('mode')!='create'){var yR=[yQ['get']('data')['id'],yQ['get']('x'),yQ['get']('y'),yQ['get']('z')];yQ['get']('points')['forEach'](function(yS){yR['push'](yS['get']('x'),yS['get']('y'),yS['get']('z'));});if(yR['length']>0x4){yO['push'](yR['join'](','));}}});if(yO['length']>0x0)yr+='&measures='+yO['join']('+');}}if(yr&&yp['setHash']===!![]){location['hash']=yr;}return yr;};TDV['Tour']['Script']['updateMediaLabelFromPlayList']=function(yT,yU,yV){var yW=function(){var yY=yT['get']('selectedIndex');if(yY>=0x0){var yZ=function(){z2['unbind']('begin',yZ);z0(yY);};var z0=function(z3){var z4=z2['get']('media');var z5=z4['get']('data');var z6=z5!==undefined?z5['description']:undefined;z1(z6);};var z1=function(z7){if(z7!==undefined){yU['set']('html','<div\x20style=\x22text-align:left\x22><SPAN\x20STYLE=\x22color:#FFFFFF;font-size:12px;font-family:Verdana\x22><span\x20color=\x22white\x22\x20font-family=\x22Verdana\x22\x20font-size=\x2212px\x22>'+z7+'</SPAN></div>');}else{yU['set']('html','');}var z8=yU['get']('html');yU['set']('visible',z8!==undefined&&z8);};var z2=yT['get']('items')[yY];if(yU['get']('html')){z1('Loading...');z2['bind']('begin',yZ);}else{z0(yY);}}};var yX=function(){yU['set']('html',undefined);yT['unbind']('change',yW,this);yV['unbind']('stop',yX,this);};if(yV){yV['bind']('stop',yX,this);}yT['bind']('change',yW,this);yW();};TDV['Tour']['Script']['updateVideoCues']=function(z9,za){var zb=z9['get']('items')[za];var zc=zb['get']('media');if(zc['get']('cues')['length']==0x0)return;var zd=zb['get']('player');var ze=[];var zf=function(){if(z9['get']('selectedIndex')!=za){zc['unbind']('cueChange',zg,this);z9['unbind']('change',zf,this);}};var zg=function(zh){var zi=zh['data']['activeCues'];for(var zj=0x0,zk=ze['length'];zj<zk;++zj){var zl=ze[zj];if(zi['indexOf'](zl)==-0x1&&(zl['get']('startTime')>zd['get']('currentTime')||zl['get']('endTime')<zd['get']('currentTime')+0.5)){zl['trigger']('end');}}ze=zi;};zc['bind']('cueChange',zg,this);z9['bind']('change',zf,this);};TDV['Tour']['Script']['visibleComponentsIfPlayerFlagEnabled']=function(zm,zn){var zo=this['get'](zn);for(var zp in zm){zm[zp]['set']('visible',zo);}};TDV['Tour']['Script']['quizStart']=function(){var zq=this['get']('data')['quiz'];return zq?zq['start']():undefined;};TDV['Tour']['Script']['quizFinish']=function(){var zr=this['get']('data')['quiz'];return zr?zr['finish']():undefined;};TDV['Tour']['Script']['quizPauseTimer']=function(){var zs=this['get']('data')['quiz'];return zs?zs['pauseTimer']():undefined;};TDV['Tour']['Script']['quizResumeTimer']=function(){var zt=this['get']('data')['quiz'];return zt?zt['continueTimer']():undefined;};TDV['Tour']['Script']['quizSetItemFound']=function(zu){var zv=this['get']('data')['quiz'];if(zv)zv['setItemFound'](zu);};TDV['Tour']['Script']['quizShowQuestion']=function(zw){var zx=this['get']('data');var zy=zx['quiz'];var zz;if(zy){var zA=this['pauseCurrentPlayers'](!![]);var zB=this[zw];var zC;if(!zB['media']){zC=this['get']('isMobile')?{'theme':{'window':{'height':undefined,'maxHeight':this['get']('actualHeight'),'optionsContainer':{'height':'100%'}}}}:{'theme':{'window':{'width':'40%','height':undefined,'maxHeight':0x2bc,'optionsContainer':{'width':'100%'}}}};}else if(this['get']('isMobile')&&this['get']('orientation')=='landscape'){zC={'theme':{'window':{'bodyContainer':{'layout':'horizontal','paddingLeft':0x1e,'paddingRight':0x1e},'mediaContainer':{'width':'60%','height':'100%'},'buttonsContainer':{'paddingLeft':0x14,'paddingRight':0x14},'optionsContainer':{'width':'40%','height':'100%','paddingLeft':0x0,'paddingRight':0x0}}}};}if(this['get']('isMobile')&&this['get']('orientation')=='landscape'){var zD=this['get']('data')['tour']['getNotchValue']();if(zD>0x0){zC=this['mixObject'](zC||{},{'theme':{'window':{'width':undefined,'left':zD,'right':zD}}});}}var zE=this['get']('data')['textToSpeechConfig']['speechOnQuizQuestion']&&!!zB['title'];if(zE)this['textToSpeech'](zB['title'],zw);zz=zy['showQuestion'](zw,zC);zz['then'](function(zF){if(zE)this['stopTextToSpeech']();this['resumePlayers'](zA,!![]);}['bind'](this));}return zz;};TDV['Tour']['Script']['quizShowScore']=function(zG){var zH=this['get']('data');var zI=zH['quiz'];if(zI){if(this['get']('isMobile')){zG=zG||{};zG=this['mixObject'](zG,zH[this['get']('orientation')=='portrait'?'scorePortraitConfig':'scoreLandscapeConfig']);}return zI['showScore'](zG);}};TDV['Tour']['Script']['quizShowTimeout']=function(zJ,zK){var zL=this['get']('data');var zM=zL['quiz'];if(zM){if(this['get']('isMobile')){zK=zK||{};zK=this['mixObject'](zK,zL[this['get']('orientation')=='portrait'?'scorePortraitConfig':'scoreLandscapeConfig']);}zM['showTimeout'](zJ,zK);}};TDV['Tour']['Script']['stopTextToSpeech']=function(zN){if(window['speechSynthesis']&&(zN==undefined||this['t2sLastID']==zN)){var zO=window['speechSynthesis'];if(zO['speaking']){zO['cancel']();}this['t2sLastID']=undefined;}};TDV['Tour']['Script']['getStateTextToSpeech']=function(zP){return this['t2sLastID']==zP?'playing':'stopped';};TDV['Tour']['Script']['textToSpeech']=function(zQ,zR,zS){if(this['get']('mute')){return;}var zT=this['get']('data');var zU=zT['disableTTS']||![];if(zU)return;if(zR!=undefined&&this['t2sLastID']!=zR||zR==undefined){zS=zS||0x0;if(this['t2sLastID']&&zS>this['t2sLastPriority']){return;}var zV=zT['tour'];var zW=zT['textToSpeechConfig'];var zX=zT['localeManager']['currentLocaleID'];if(window['speechSynthesis']){var zY=window['speechSynthesis'];if(zY['speaking']){zY['cancel']();}var zZ=new SpeechSynthesisUtterance(zQ);if(zX)zZ['lang']=zX;var A0;if(zW){zZ['volume']=zW['volume'];zZ['pitch']=zW['pitch'];zZ['rate']=zW['rate'];if(zW['stopBackgroundAudio'])this['pauseGlobalAudios'](null,!![]);}zZ['onend']=function(){this['t2sLastID']=null;if(A0)clearInterval(A0);if(zW['stopBackgroundAudio'])this['resumeGlobalAudios']();}['bind'](this);if(navigator['userAgent']['indexOf']('Chrome')!=-0x1&&!this['get']('isMobile')){A0=setInterval(function(){zY['pause']();zY['resume']();},0xbb8);}zY['speak'](zZ);this['t2sLastPriority']=zS;this['t2sLastID']=zR;}else if(zV['isMobileApp']()){if(!zV['isIOS']()){var A1=function(A2,A3){var A4={'command':'tts','type':A2};if(A3)A4=this['mixObject'](A4,A3);android['sendJSON'](JSON['stringify'](A4));}['bind'](this);android['onTTSEnd']=function(){this['t2sLastID']=null;if(zW['stopBackgroundAudio'])this['resumeGlobalAudios']();android['onTTSEnd']=undefined;}['bind'](this);A1('stop');if(zW){A1('init',{'volume':zW['volume'],'pitch':zW['pitch'],'rate':zW['rate'],'language':zX});if(zW['stopBackgroundAudio'])this['pauseGlobalAudios'](null,!![]);}A1('play',{'text':zQ,'androidCallback':'onTTSEnd'});}else{console['error']('Text\x20to\x20Speech\x20isn\x27t\x20supported\x20on\x20this\x20browser');}}else{console['error']('Text\x20to\x20Speech\x20isn\x27t\x20supported\x20on\x20this\x20browser');}}};TDV['Tour']['Script']['textToSpeechComponent']=function(A5){var A6=A5['get']('class');var A7;if(A6=='HTMLText'){var A8=A5['get']('html');if(A8){A7=this['htmlToPlainText'](A8,{'linkProcess':function(A9,Aa){return Aa;}});}}else if(A6=='BaseButton'){A7=A5['get']('label');}else if(A6=='Label'){A7=A5['get']('text');}if(A7){this['textToSpeech'](A7,A5['get']('id'));}};TDV['Tour']['Script']['toggleTextToSpeechComponent']=function(Ab){var Ac=Ab['get']('id');if(this['getStateTextToSpeech'](Ac)!='playing')this['textToSpeechComponent'](Ab);else this['stopTextToSpeech'](Ac);};TDV['Tour']['Script']['_initTTSTooltips']=function(){function Ad(Af){var Ag=Af['source'];this['textToSpeech'](Ag['get']('toolTip'),Ag['get']('id'),0x1);}function Ae(Ah){var Ai=Ah['source'];this['stopTextToSpeech'](Ai['get']('id'));}setTimeout(function(){var Aj=this['getByClassName']('UIComponent');for(var Ak=0x0,Al=Aj['length'];Ak<Al;++Ak){var Am=Aj[Ak];var An=Am['get']('toolTip');if(!!An||Am['get']('class')=='ViewerArea'){Am['bind']('toolTipShow',Ad,this);Am['bind']('toolTipHide',Ae,this);}}}['bind'](this),0x0);};TDV['Tour']['Script']['takeScreenshot']=function(Ao){var Ap=this['getActivePlayerWithViewer'](Ao);if(Ap&&(Ap['get']('class')=='PanoramaPlayer'||Ap['get']('class')=='Model3DPlayer'))Ap['saveScreenshot']();};TDV['Tour']['Script']['htmlToPlainText']=function htmlToPlainText(Aq,Ar){var As=function(AG,AH){var AI='';for(var AJ=0x0;AJ<AH;AJ+=0x1){AI+=AG;}return AI;};var At=null;var Au=null;var Av='underline';var Aw='indention';var Ax='-';var Ay=0x3;var Az='-';var AA=![];if(!!Ar){if(typeof Ar['linkProcess']==='function'){At=Ar['linkProcess'];}if(typeof Ar['imgProcess']==='function'){Au=Ar['imgProcess'];}if(!!Ar['headingStyle']){Av=Ar['headingStyle'];}if(!!Ar['listStyle']){Aw=Ar['listStyle'];}if(!!Ar['uIndentionChar']){Ax=Ar['uIndentionChar'];}if(!!Ar['listIndentionTabs']){Ay=Ar['listIndentionTabs'];}if(!!Ar['oIndentionChar']){Az=Ar['oIndentionChar'];}if(!!Ar['keepNbsps']){AA=Ar['keepNbsps'];}}var AB=As(Ax,Ay);var AC=String(Aq)['replace'](/\n|\r/g,'\x20');const AD=AC['match'](/<\/body>/i);if(AD){AC=AC['substring'](0x0,AD['index']);}const AE=AC['match'](/<body[^>]*>/i);if(AE){AC=AC['substring'](AE['index']+AE[0x0]['length'],AC['length']);}AC=AC['replace'](/<(script|style)( [^>]*)*>((?!<\/\1( [^>]*)*>).)*<\/\1>/gi,'');AC=AC['replace'](/<(\/)?((?!h[1-6]( [^>]*)*>)(?!img( [^>]*)*>)(?!a( [^>]*)*>)(?!ul( [^>]*)*>)(?!ol( [^>]*)*>)(?!li( [^>]*)*>)(?!p( [^>]*)*>)(?!div( [^>]*)*>)(?!td( [^>]*)*>)(?!br( [^>]*)*>)[^>\/])[^<>]*>/gi,'');AC=AC['replace'](/<img([^>]*)>/gi,function(AK,AL){var AM='';var AN='';var AO=/src="([^"]*)"/i['exec'](AL);var AP=/alt="([^"]*)"/i['exec'](AL);if(AO!==null){AM=AO[0x1];}if(AP!==null){AN=AP[0x1];}if(typeof Au==='function'){return Au(AM,AN);}if(AN===''){return'![image]\x20('+AM+')';}return'!['+AN+']\x20('+AM+')';});function AF(){return function(AQ,AR,AS,AT){var AU=0x0;if(AS&&/start="([0-9]+)"/i['test'](AS)){AU=/start="([0-9]+)"/i['exec'](AS)[0x1]-0x1;}var AV='<p>'+AT['replace'](/<li[^>]*>(((?!<li[^>]*>)(?!<\/li>).)*)<\/li>/gi,function(AW,AX){var AY=0x0;var AZ=AX['replace'](/(^|(<br \/>))(?!<p>)/gi,function(){if(AR==='o'&&AY===0x0){AU+=0x1;AY+=0x1;return'<br\x20/>'+AU+As(Az,Ay-String(AU)['length']);}return'<br\x20/>'+AB;});return AZ;})+'</p>';return AV;};}if(Aw==='linebreak'){AC=AC['replace'](/<\/?ul[^>]*>|<\/?ol[^>]*>|<\/?li[^>]*>/gi,'\x0a');}else if(Aw==='indention'){while(/<(o|u)l[^>]*>(.*)<\/\1l>/gi['test'](AC)){AC=AC['replace'](/<(o|u)l([^>]*)>(((?!<(o|u)l[^>]*>)(?!<\/(o|u)l>).)*)<\/\1l>/gi,AF());}}if(Av==='linebreak'){AC=AC['replace'](/<h([1-6])[^>]*>([^<]*)<\/h\1>/gi,'\x0a$2\x0a');}else if(Av==='underline'){AC=AC['replace'](/<h1[^>]*>(((?!<\/h1>).)*)<\/h1>/gi,function(B0,B1){return'\x0a&nbsp;\x0a'+B1+'\x0a'+As('=',B1['length'])+'\x0a&nbsp;\x0a';});AC=AC['replace'](/<h2[^>]*>(((?!<\/h2>).)*)<\/h2>/gi,function(B2,B3){return'\x0a&nbsp;\x0a'+B3+'\x0a'+As('-',B3['length'])+'\x0a&nbsp;\x0a';});AC=AC['replace'](/<h([3-6])[^>]*>(((?!<\/h\1>).)*)<\/h\1>/gi,function(B4,B5,B6){return'\x0a&nbsp;\x0a'+B6+'\x0a&nbsp;\x0a';});}else if(Av==='hashify'){AC=AC['replace'](/<h([1-6])[^>]*>([^<]*)<\/h\1>/gi,function(B7,B8,B9){return'\x0a&nbsp;\x0a'+As('#',B8)+'\x20'+B9+'\x0a&nbsp;\x0a';});}AC=AC['replace'](/<br( [^>]*)*>|<p( [^>]*)*>|<\/p( [^>]*)*>|<div( [^>]*)*>|<\/div( [^>]*)*>|<td( [^>]*)*>|<\/td( [^>]*)*>/gi,'\x0a');AC=AC['replace'](/<a[^>]*href="([^"]*)"[^>]*>([^<]+)<\/a[^>]*>/gi,function(Ba,Bb,Bc){if(typeof At==='function'){return At(Bb,Bc);}return'\x20['+Bc+']\x20('+Bb+')\x20';});AC=AC['replace'](/\n[ \t\f]*/gi,'\x0a');AC=AC['replace'](/\n\n+/gi,'\x0a');if(AA){AC=AC['replace'](/( |\t)+/gi,'\x20');AC=AC['replace'](/&nbsp;/gi,'\x20');}else{AC=AC['replace'](/( |&nbsp;|\t)+/gi,'\x20');}AC=AC['replace'](/\n +/gi,'\x0a');AC=AC['replace'](/^ +/gi,'');while(AC['indexOf']('\x0a')===0x0){AC=AC['substring'](0x1);}if(AC['length']===0x0||AC['lastIndexOf']('\x0a')!==AC['length']-0x1){AC+='\x0a';}return AC;};TDV['Tour']['Script']['openEmbeddedPDF']=function(Bd,Be){var Bf=!!window['MSInputMethodContext']&&!!document['documentMode'];if(Bf){this['openLink'](Be,'_blank');return;}var Bg=Bd['get']('class');var Bh=!new RegExp('^(?:[a-z]+:)?//','i')['test'](Be);if(Bh&&Bg=='WebFrame'){var Bi=location['origin']+location['pathname'];Bd['set']('url','lib/pdfjs/web/viewer.html?file='+encodeURIComponent(Bi['substring'](0x0,Bi['lastIndexOf']('/'))+'/'+Be)+'#0');}else{var Bj=location['origin']==new URL(Be)['origin'];var Bk='<iframe\x20\x20id=\x27googleViewer\x27\x20src=\x27https://docs.google.com/viewer?url=[url]&embedded=true\x27\x20width=\x27100%\x27\x20height=\x27100%\x27\x20frameborder=\x270\x27>'+'<p>This\x20browser\x20does\x20not\x20support\x20inline\x20PDFs.\x20Please\x20download\x20the\x20PDF\x20to\x20view\x20it:\x20<a\x20href=\x27[url]\x27>Download\x20PDF</a></p>'+'</iframe>';var Bl=/^((?!chrome|android|crios|ipad|iphone).)*safari/i['test'](navigator['userAgent']);var Bm='<div\x20id=\x22content\x22\x20style=\x22width:100%;height:100%;position:absolute;left:0;top:0;\x22></div>'+'<script\x20type=\x22text/javascript\x22>'+'!function(root,factory){\x22function\x22==typeof\x20define&&define.amd?define([],factory):\x22object\x22==typeof\x20module&&module.exports?module.exports=factory():root.PDFObject=factory()}(this,function(){\x22use\x20strict\x22;if(void\x200===window||void\x200===window.navigator||void\x200===window.navigator.userAgent||void\x200===window.navigator.mimeTypes)return!1;let\x20nav=window.navigator,ua=window.navigator.userAgent,isIE=\x22ActiveXObject\x22in\x20window,isModernBrowser=void\x200!==window.Promise,supportsPdfMimeType=void\x200!==nav.mimeTypes[\x22application/pdf\x22],isMobileDevice=void\x200!==nav.platform&&\x22MacIntel\x22===nav.platform&&void\x200!==nav.maxTouchPoints&&nav.maxTouchPoints>1||/Mobi|Tablet|Android|iPad|iPhone/.test(ua),isSafariDesktop=!isMobileDevice&&void\x200!==nav.vendor&&/Apple/.test(nav.vendor)&&/Safari/.test(ua),isFirefoxWithPDFJS=!(isMobileDevice||!/irefox/.test(ua))&&parseInt(ua.split(\x22rv:\x22)[1].split(\x22.\x22)[0],10)>18,createAXO=function(type){var\x20ax;try{ax=new\x20ActiveXObject(type)}catch(e){ax=null}return\x20ax},supportsPDFs=!isMobileDevice&&(isFirefoxWithPDFJS||supportsPdfMimeType||isIE&&!(!createAXO(\x22AcroPDF.PDF\x22)&&!createAXO(\x22PDF.PdfCtrl\x22))),embedError=function(msg,suppressConsole){return\x20suppressConsole||console.log(\x22[PDFObject]\x20\x22+msg),!1},emptyNodeContents=function(node){for(;node.firstChild;)node.removeChild(node.firstChild)},generatePDFJSMarkup=function(targetNode,url,pdfOpenFragment,PDFJS_URL,id,omitInlineStyles){emptyNodeContents(targetNode);let\x20fullURL=PDFJS_URL+\x22?file=\x22+encodeURIComponent(url)+pdfOpenFragment,div=document.createElement(\x22div\x22),iframe=document.createElement(\x22iframe\x22);return\x20iframe.src=fullURL,iframe.className=\x22pdfobject\x22,iframe.type=\x22application/pdf\x22,iframe.frameborder=\x220\x22,id&&(iframe.id=id),omitInlineStyles||(div.style.cssText=\x22position:\x20absolute;\x20top:\x200;\x20right:\x200;\x20bottom:\x200;\x20left:\x200;\x22,iframe.style.cssText=\x22border:\x20none;\x20width:\x20100%;\x20height:\x20100%;\x22,/*targetNode.style.position=\x22relative\x22,*/targetNode.style.overflow=\x22auto\x22),div.appendChild(iframe),targetNode.appendChild(div),targetNode.classList.add(\x22pdfobject-container\x22),targetNode.getElementsByTagName(\x22iframe\x22)[0]},embed=function(url,targetSelector,options){let\x20selector=targetSelector||!1,opt=options||{},id=\x22string\x22==typeof\x20opt.id?opt.id:\x22\x22,page=opt.page||!1,pdfOpenParams=opt.pdfOpenParams||{},fallbackLink=opt.fallbackLink||!0,width=opt.width||\x22100%\x22,height=opt.height||\x22100%\x22,assumptionMode=\x22boolean\x22!=typeof\x20opt.assumptionMode||opt.assumptionMode,forcePDFJS=\x22boolean\x22==typeof\x20opt.forcePDFJS&&opt.forcePDFJS,supportRedirect=\x22boolean\x22==typeof\x20opt.supportRedirect&&opt.supportRedirect,omitInlineStyles=\x22boolean\x22==typeof\x20opt.omitInlineStyles&&opt.omitInlineStyles,suppressConsole=\x22boolean\x22==typeof\x20opt.suppressConsole&&opt.suppressConsole,forceIframe=\x22boolean\x22==typeof\x20opt.forceIframe&&opt.forceIframe,PDFJS_URL=opt.PDFJS_URL||!1,targetNode=function(targetSelector){let\x20targetNode=document.body;return\x22string\x22==typeof\x20targetSelector?targetNode=document.querySelector(targetSelector):void\x200!==window.jQuery&&targetSelector\x20instanceof\x20jQuery&&targetSelector.length?targetNode=targetSelector.get(0):void\x200!==targetSelector.nodeType&&1===targetSelector.nodeType&&(targetNode=targetSelector),targetNode}(selector),fallbackHTML=\x22\x22,pdfOpenFragment=\x22\x22;if(\x22string\x22!=typeof\x20url)return\x20embedError(\x22URL\x20is\x20not\x20valid\x22,suppressConsole);if(!targetNode)return\x20embedError(\x22Target\x20element\x20cannot\x20be\x20determined\x22,suppressConsole);if(page&&(pdfOpenParams.page=page),pdfOpenFragment=function(pdfParams){let\x20prop,string=\x22\x22;if(pdfParams){for(prop\x20in\x20pdfParams)pdfParams.hasOwnProperty(prop)&&(string+=encodeURIComponent(prop)+\x22=\x22+encodeURIComponent(pdfParams[prop])+\x22&\x22);string&&(string=(string=\x22#\x22+string).slice(0,string.length-1))}return\x20string}(pdfOpenParams),forcePDFJS&&PDFJS_URL)return\x20generatePDFJSMarkup(targetNode,url,pdfOpenFragment,PDFJS_URL,id,omitInlineStyles);if(supportsPDFs||assumptionMode&&isModernBrowser&&!isMobileDevice){return\x20function(embedType,targetNode,targetSelector,url,pdfOpenFragment,width,height,id,omitInlineStyles){emptyNodeContents(targetNode);let\x20embed=document.createElement(embedType);if(embed.src=url+pdfOpenFragment,embed.className=\x22pdfobject\x22,embed.type=\x22application/pdf\x22,id&&(embed.id=id),!omitInlineStyles){let\x20style=\x22embed\x22===embedType?\x22overflow:\x20auto;\x22:\x22border:\x20none;\x22;targetSelector&&targetSelector!==document.body?style+=\x22width:\x20\x22+width+\x22;\x20height:\x20\x22+height+\x22;\x22:style+=\x22position:\x20absolute;\x20top:\x200;\x20right:\x200;\x20bottom:\x200;\x20left:\x200;\x20width:\x20100%;\x20height:\x20100%;\x22,embed.style.cssText=style}return\x20targetNode.classList.add(\x22pdfobject-container\x22),targetNode.appendChild(embed),targetNode.getElementsByTagName(embedType)[0]}(forceIframe||supportRedirect&&isSafariDesktop?\x22iframe\x22:\x22embed\x22,targetNode,targetSelector,url,pdfOpenFragment,width,height,id,omitInlineStyles)}return\x20PDFJS_URL?generatePDFJSMarkup(targetNode,url,pdfOpenFragment,PDFJS_URL,id,omitInlineStyles):(fallbackLink&&(fallbackHTML=\x22string\x22==typeof\x20fallbackLink?fallbackLink:\x22<p>This\x20browser\x20does\x20not\x20support\x20inline\x20PDFs.\x20Please\x20download\x20the\x20PDF\x20to\x20view\x20it:\x20<a\x20href=\x27[url]\x27>Download\x20PDF</a></p>\x22,targetNode.innerHTML=fallbackHTML.replace(/\x5c[url\x5c]/g,url)),embedError(\x22This\x20browser\x20does\x20not\x20support\x20embedded\x20PDFs\x22,suppressConsole))};return{embed:function(a,b,c){return\x20embed(a,b,c)},pdfobjectversion:\x222.2.3\x22,supportsPDFs:supportsPDFs}});'+'if\x20(typeof\x20module\x20===\x20\x22object\x22\x20&&\x20module.exports)\x20{'+'this.PDFObject\x20=\x20module.exports;'+'}'+'PDFObject.embed(\x22'+Be+'\x22,\x20\x22#content\x22,\x20{'+(Bj?'\x22PDFJS_URL\x22:\x20\x22'+new URL('lib/pdfjs/web/viewer.html',document['baseURI'])['href']+'\x22,\x20':'')+'\x22fallbackLink\x22:\x20\x22'+Bk+'\x22,'+'\x22forcePDFJS\x22:\x20'+Bl+'});'+'if(!PDFObject.supportsPDFs\x20&&\x20!'+Bj+'){'+'\x20var\x20iframeTimerId;'+'\x20function\x20startTimer(){'+'\x20\x20\x20\x20iframeTimerId\x20=\x20window.setTimeout(checkIframeLoaded,\x202000);'+'\x20}'+'\x20function\x20checkIframeLoaded(){\x20\x20'+'\x20\x20\x20\x20var\x20iframe\x20=\x20document.getElementById(\x22googleViewer\x22);'+'\x20\x20\x20\x20iframe.src\x20=\x20iframe.src;'+'\x20\x20\x20\x20iframeTimerId\x20=\x20window.setTimeout(checkIframeLoaded,\x202000);'+'\x20}'+'\x20document.getElementById(\x22googleViewer\x22).addEventListener(\x22load\x22,\x20function(){'+'\x20\x20\x20clearInterval(iframeTimerId);\x20'+'\x20});'+'\x20startTimer();'+'}'+'</script>';if(Bg=='WebFrame'){Bd['set']('url','data:text/html;charset=utf-8,'+encodeURIComponent('<!DOCTYPE\x20html>'+'<html>'+'<head></head>'+'<body\x20style=\x22height:100%;width:100%;overflow:hidden;margin:0px;background-color:rgb(82,\x2086,\x2089);\x22>'+Bm+'</body>'+'</html>'));}else if(Bg=='HTML'){Bd['set']('content','data:text/html;charset=utf-8,'+encodeURIComponent(Bm));}}};TDV['Tour']['Script']['getKey']=function(Bn){return window[Bn];};TDV['Tour']['Script']['registerKey']=function(Bo,Bp){window[Bo]=Bp;};TDV['Tour']['Script']['unregisterKey']=function(Bq){delete window[Bq];};TDV['Tour']['Script']['existsKey']=function(Br){return Br in window;};function _getCurrentActiveModels(){var Bs=this['getByClassName']('Model3DPlayer');var Bt=[];for(var Bu of Bs){var Bv=Bu['get']('model');var Bw=Bu['get']('viewerArea');if(Bv&&Bv['get']('isLoaded')&&Bw&&Bw['get']('visible'))Bt['push'](Bv);}return Bt;}function _onMeasureClick(Bx){var By=Bx['source'];var Bz=By['get']('mode');if(Bz!='create'){By['set']('mode',Bz=='view'?'edit':'view');console['log'](By['get']('mode'));}}function _forEachMeasureModel3DObject(BA,BB){if(!BA)BA=_getCurrentActiveModels['call'](this);BA['forEach'](function(BC){BC['get']('objects')['forEach'](function(BD){if(BD['get']('class')=='MeasureModel3DObject')BB(BC,BD);}['bind'](this));}['bind'](this));}function _deleteModel3DObjects(BE,BF){if(!BE)BE=_getCurrentActiveModels['call'](this);BE['forEach'](function(BG){var BH=BG['get']('objects');var BI=BH['filter'](function(BJ){return!BF['call'](this,BJ);});if(BI['length']!=BH['length']){BG['set']('objects',BI);BH['forEach'](function(BK){if(BF['call'](this,BK))this['disposeInstance'](BK);}['bind'](this));}}['bind'](this));}function _cloneMeasureModel3DObject(BL){var BM=this['clone'](BL,BL['getAttributeNames']()['filter'](function(BN){return BN!='id';}));BM['set']('data',{'id':BL['get']('id')});return BM;}TDV['Tour']['Script']['startMeasurement']=function(BO,BP){if(!BO)BO=_getCurrentActiveModels['call'](this);var BQ={},BR={};BO['forEach'](function(BT){var BU=BT['get']('objects');var BV=BU['findIndex'](function(C0){return C0['get']('class')=='MeasureModel3DObject'&&C0['get']('mode')=='create';});var BW=BV!=-0x1;if(BW){var BX=BU[BV];if(BX['get']('points')['length']==0x0){BU['splice'](BV,0x1);this['disposeInstance'](BX);}else BX['set']('mode','view');}var BY=_cloneMeasureModel3DObject['call'](this,BP);this['cloneBindings'](BP,BY,'modeChange');BY['set']('mode','create');BY['bind']('click',_onMeasureClick,this);var BZ=BT['get']('camera');BY['bind']('modeChange',function C1(){if(BY['get']('mode')=='create'){BQ[BT['get']('id')]=BT['get']('surfaceSelectionEnabled');BT['set']('surfaceSelectionEnabled',!![]);if(BZ['get']('class')=='FlyOverModel3DCamera'){BR[BT['get']('id')]=BZ['get']('doubleClickAction');BZ['set']('doubleClickAction','none');}}else{BY['unbind']('modeChange',C1,this);BT['set']('surfaceSelectionEnabled',BQ[BT['get']('id')]);if(BZ['get']('class')=='FlyOverModel3DCamera'){BZ['set']('doubleClickAction',BR[BT['get']('id')]);}}},this);if(BO['length']>0x0){BY['bind']('distanceChange',function C2(){BY['unbind']('distanceChange',C2,this);BS['call'](this,BO['filter'](C3=>C3!=BT));},this);}BU=BU['concat']();BU['push'](BY);BT['set']('objects',BU);}['bind'](this));function BS(C4){this['stopMeasurement'](C4);for(var C5 of C4){var C6=C5['get']('id');C5['set']('surfaceSelectionEnabled',BQ[C6]);if(C6 in BR)C5['get']('camera')['set']('doubleClickAction',BR[C6]);}}};TDV['Tour']['Script']['stopMeasurement']=function(C7){_deleteModel3DObjects['call'](this,C7,function(C8){return C8['get']('class')=='MeasureModel3DObject'&&C8['get']('mode')=='create'&&C8['get']('points')['length']==0x0;});_forEachMeasureModel3DObject['call'](this,C7,function(C9,Ca){if(Ca['get']('mode')=='create'){Ca['set']('mode','edit');}});};TDV['Tour']['Script']['toggleMeasurement']=function(Cb,Cc){if(!Cb)Cb=_getCurrentActiveModels['call'](this);var Cd=Cb['some'](function(Ce){var Cf=Ce['get']('objects');var Cg=Cf['find'](function(Ch){return Ch['get']('class')=='MeasureModel3DObject'&&Ch['get']('mode')=='create';});return Cg!=null;});if(!Cd)this['startMeasurement'](Cb,Cc);else this['stopMeasurement'](Cb);};TDV['Tour']['Script']['cleanAllMeasurements']=function(Ci){_deleteModel3DObjects['call'](this,Ci,function(Cj){return Cj['get']('class')=='MeasureModel3DObject';});};TDV['Tour']['Script']['cleanSelectedMeasurements']=function(Ck){_deleteModel3DObjects['call'](this,Ck,function(Cl){return Cl['get']('class')=='MeasureModel3DObject'&&Cl['get']('mode')=='edit';});};TDV['Tour']['Script']['setMeasurementsVisibility']=function(Cm,Cn){_forEachMeasureModel3DObject['call'](this,Cm,function(Co,Cp){Cp['set']('enabled',Cn);});};TDV['Tour']['Script']['toggleMeasurementsVisibility']=function(Cq){_forEachMeasureModel3DObject['call'](this,Cq,function(Cr,Cs){Cs['set']('enabled',!Cs['get']('enabled'));});};TDV['Tour']['Script']['setMeasurementUnits']=function(Ct){_forEachMeasureModel3DObject['call'](this,null,function(Cu,Cv){Cv['set']('units',Ct);});};
//# sourceMappingURL=script_v2023.0.11.js.map
//Generated with v2023.0.11, Mon May 22 2023